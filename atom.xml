<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>留阵～风～</title>
  <subtitle>人咬得菜根，则百事可做</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://jamfliu.github.io/"/>
  <updated>2017-05-19T15:26:15.000Z</updated>
  <id>http://jamfliu.github.io/</id>
  
  <author>
    <name>jamefeng</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>【原创】带你更好地理解和使用Git</title>
    <link href="http://jamfliu.github.io/2017/05/16/Git-Usage/"/>
    <id>http://jamfliu.github.io/2017/05/16/Git-Usage/</id>
    <published>2017-05-16T10:58:35.000Z</published>
    <updated>2017-05-19T15:26:15.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>公司前段时间已经从svn中迁移到git，但是发现开发在使用的过程中会遇到很多的问题。所以打算把自己学习的整理的笔记通过博客分享出来，并且后续会更新遇到的一些问题以及解决，如有时间也会后续详细整理一些操作。建议大家抽空看看《Git权威指南》，这本书比较系统讲述知识点。<br>本博客主要是面向对工作使用Git而未深入了解的人。当然我觉得是适合新手的，git老司机可以查阅补漏或者可以评论补充 :) </p>
</blockquote>
<h2 id="一、名词解释"><a href="#一、名词解释" class="headerlink" title="一、名词解释"></a>一、名词解释</h2><ul>
<li><strong><em>Git</em></strong>:是一款免费的、开源的、分布式的版本控制系统。旨在快速高效地处理无论规模大小的任何软件工程。<br>　　每一个 Git克隆 都是一个完整的文件库，含有全部历史记录和修订追踪能力，不依赖于网络连接或中心服务器。其最大特色就是“分支”及“合并”操作非常快速、简便。
　　</li>
<li><p><strong><em>工作空间</em></strong>: (工作树,working directory, working tree, working space)我们在硬盘中创建的文件， 在编辑器可直观显示。<br>官方解释：</p>
<blockquote>
<p>The working tree is a single checkout of one version of the project. These files are pulled out of the compressed database in the Git directory and placed on disk for you to use or modify.</p>
</blockquote>
</li>
<li><p><strong><em>缓存区</em></strong>: (暂存区, index, staged spashot, stage, staging Area )是工作空间和本地仓库的中转站，工作空间可通过add到缓存区。提交代码、解决冲突的中转站。<br> 官方解释：</p>
<blockquote>
<p>The staging area is a file, generally contained in your Git directory, that stores information about what will go into your next commit. It’s sometimes referred to as the “index”, but it’s also common to refer to it as the staging area.</p>
<p>The basic Git workflow goes something like this:<br>　　You modify files in your working tree.<br>　　You stage the files, adding snapshots of them to your staging area.<br>　　You do a commit, which takes the files as they are in the staging area and stores that snapshot permanently to your Git directory.</p>
</blockquote>
</li>
</ul>
<ul>
<li><strong><em>本地仓库</em></strong>: (local repo, commit history)在本地存储提交变动。</li>
<li><p><strong><em>远程仓库</em></strong>: (remote repo)在远程用于存储提交变动的。</p>
</li>
<li><p><strong><em>Git的提交操作流程</em></strong>：本地更改之后，流程顺序如下<br> <strong>工作空间</strong> –<em>add</em>(或叫<em>index</em>)–&gt;<strong>暂存区</strong>–<em>commit</em>–&gt;<strong>本地仓库</strong>–<em>push</em>–&gt;<strong>远程仓库</strong></p>
</li>
</ul>
<h2 id="二、Git和SVN的对比"><a href="#二、Git和SVN的对比" class="headerlink" title="二、Git和SVN的对比"></a>二、Git和SVN的对比</h2><blockquote>
<p>我们公司对svn倒是没有使用很多高级的东西。但我们要用好它，需要我们了解更多。接下来我们就通过Git和SVN对比的优劣势，来更深入地了解Git。</p>
</blockquote>
<h3 id="2-1-Git的优势"><a href="#2-1-Git的优势" class="headerlink" title="2.1 Git的优势"></a>2.1 Git的优势</h3><h4 id="1-操作速度快"><a href="#1-操作速度快" class="headerlink" title="1. 操作速度快"></a>1. 操作速度快</h4><p> 主要列出一些操作来说明速度快。</p>
<ul>
<li>提交快：本地的仓库的提交都是针对本地的，而不是像svn上传到中央服务器。</li>
<li>合并快：支持同一目录下即可切换不同的分支，合并的速度远比svn快。</li>
<li>查看历史快</li>
</ul>
<h4 id="2-支持离线工作，减轻解决合并的冲突的工作，更好地协同开发"><a href="#2-支持离线工作，减轻解决合并的冲突的工作，更好地协同开发" class="headerlink" title="2. 支持离线工作，减轻解决合并的冲突的工作，更好地协同开发"></a>2. 支持离线工作，减轻解决合并的冲突的工作，更好地协同开发</h4><p>　　git把内容按元数据方式存储，完整克隆版本库。所有版本信息位于.git目录中，它是处于你的机器上的一个克隆版的版本库，它拥有中心版本库上所有的东西，例如标签、分支、版本记录等。<br>　　所以可以在本地操作指令，例如提交、查看历史、合并、创建分支等。即便出问题，在你本地的操作并不影响了其他的开发者操作。
　　</p>
<h4 id="3-更好的回退机制"><a href="#3-更好的回退机制" class="headerlink" title="3. 更好的回退机制"></a>3. 更好的回退机制</h4><p>　　这个支持回退 你index(即 add)或者commit的一个问题或者整个代码的回滚，也可以撤销之前的操作。<br>　　svn也是支持回退，一般是重新提交修复，但是假设过程中错误提交了超大的文件，想在历史记录永远删除以防止大文件仍然存在服务器中（因为历史记录），svn就乏力了
　　　　</p>
<h4 id="4-工作进度空间的保留"><a href="#4-工作进度空间的保留" class="headerlink" title="4. 工作进度空间的保留"></a>4. 工作进度空间的保留</h4><p>　　svn如果需要保留当前的工作进度空间，一般会在其他目录建立新的文件然后load或者切换到对应的分支，进行操作。<br>　　但是git支持在原目录上，对于在index和未index的改动的东西，可以通过git stash来保留未提交的内容（但是 unstrack file文件不行，即新增的未index的不行 ）。然后你就可以开发你的紧急任务等。</p>
<h4 id="5-分布式存储，可减少故障时丢失代码"><a href="#5-分布式存储，可减少故障时丢失代码" class="headerlink" title="5.分布式存储，可减少故障时丢失代码"></a>5.分布式存储，可减少故障时丢失代码</h4><p>　　git把内容按元数据方式存储，完整克隆版本库。所有版本信息位于.git目录中，它是处于你的机器上的一个克隆版的版本库，它拥有中心版本库上所有的东西，例如标签、分支、版本记录等。<br>　　每个代码库都存有这些信息，服务器故障时可以回复全代码及历史版本。</p>
<h4 id="6-现在已经流行，很多社区和大公司在用，有学习和使用的必要"><a href="#6-现在已经流行，很多社区和大公司在用，有学习和使用的必要" class="headerlink" title="6.现在已经流行，很多社区和大公司在用，有学习和使用的必要"></a>6.现在已经流行，很多社区和大公司在用，有学习和使用的必要</h4><p>　　 </p>
<h3 id="2-2-Git的劣势"><a href="#2-2-Git的劣势" class="headerlink" title="2.2 Git的劣势"></a>2.2 Git的劣势</h3><h4 id="1-学习成本不低"><a href="#1-学习成本不低" class="headerlink" title="1. 学习成本不低"></a>1. 学习成本不低</h4><ul>
<li><strong>命令多且复杂</strong><br>　　git有很多命令行，如果没认真学习或者梳理的话，很容易搞乱或者不理解。例如 git checkout是可以切换分支，也可以撤销工作空间的改动的文件，加个参数-b就变成创建新分支。因为涉及不同的分支，工作空间，缓存区，本地仓库，远程仓库，所以比如常用的撤销指令都有变的很多。比svn多却复杂。<br>　　发现现在很多人也像svn的图形操作界面一样操作git，可以简单点，但是仍然远比svn复杂。
　　</li>
<li><strong>概念多</strong><br>　　需要了解 工作空间，缓存区、索引、本地资源库、远程资源库、远程、提交、treeishes、分支和 stash。</li>
</ul>
<h4 id="2-资源权限控制弱"><a href="#2-资源权限控制弱" class="headerlink" title="2. 资源权限控制弱"></a>2. 资源权限控制弱</h4><p>　　虽然可以在远程对某些分支进行保护，限制写或者合并的操作，分支不支持像svn有严格的权限管理， 可以按组、按个人进行针对某个子目录的权限控制。区分读、写权限。更严格的，不支持回退操作。保证代码永远可以追踪。</p>
<h4 id="3-不支持支持局部更新"><a href="#3-不支持支持局部更新" class="headerlink" title="3. 不支持支持局部更新"></a>3. 不支持支持局部更新</h4><p>　　SVN由于是在每个文件夹建立一个.svn文件夹来实现管理，所以可以很简单实现局部更新、还原和权限管理。假如你只希望更新某些部分，则svn可以很好实现。同时代码写错了，同时可以很好实现局部还原，当然git也可以通过历史版本还原，但是无法简单地实现局部还原。
　　</p>
<h2 id="三、Git本地上主要功能以及常用的指令"><a href="#三、Git本地上主要功能以及常用的指令" class="headerlink" title="三、Git本地上主要功能以及常用的指令"></a>三、Git本地上主要功能以及常用的指令</h2><blockquote>
<p>主要是对常用的进行介绍，详细请看<a href=""></a>同时并不会详细介绍每个指令，如需要详细看请通过</p>
</blockquote>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git help <span class="tag">&lt;<span class="name">你要了解的指令</span>&gt;</span></div></pre></td></tr></table></figure>
<h3 id="3-1-创建空Git库-或者-重置"><a href="#3-1-创建空Git库-或者-重置" class="headerlink" title="3.1 创建空Git库 或者 重置"></a>3.1 创建空Git库 或者 重置</h3><p>  cd 到你选择的目录（cd 到改目录）后执行下面指令: ([初始化仓库— 执行成功，会生成.git目录。这个.git目录存储着管理当前目录内容所属的仓库数据])    </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> 到你选择的目录</div><div class="line">git init</div></pre></td></tr></table></figure>
<h3 id="3-2-查询"><a href="#3-2-查询" class="headerlink" title="3.2 查询"></a>3.2 查询</h3><h4 id="1-查看当前空间以及暂存区的状态-（git-status-git-diff）"><a href="#1-查看当前空间以及暂存区的状态-（git-status-git-diff）" class="headerlink" title="1.查看当前空间以及暂存区的状态 （git-status,git-diff）"></a>1.查看当前空间以及暂存区的状态 （git-status,git-diff）</h4><ul>
<li>查看对本地空间、暂存区的文件更改。</li>
</ul>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">git status</span></div></pre></td></tr></table></figure>
<p>  加参数<strong>-s</strong>是简略输出，默认是–long。 </p>
<ul>
<li>查看具体内容的区别</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git diff --work-diff    #会逐字进行对比</div><div class="line">git diff         		   #查看当前工作区与暂存区的差别 </div><div class="line">git diff --cached      //查看暂存区和本地仓库的差别</div></pre></td></tr></table></figure>
<p> git提取补丁的方式不是通过git diff.需要注意提取补丁和打补丁的方式与linux不一样。<br>Git提取补丁的方式</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash">步骤1  提取补丁，</span></div><div class="line"><span class="meta">#</span><span class="bash">生成文件如：0001-commit-third-times-again.patch    0002-commit-G1.patch</span></div><div class="line"><span class="meta">#</span><span class="bash">其他方式例如：  git  format-patch HEAD~3...HEAD  </span></div><div class="line">git  format-patch 1.0.0...HEAD    #1.0.0 是里程碑(tag标签)其他的方式应该也可以的</div><div class="line"><span class="meta">#</span><span class="bash">步骤2. 如需要，可发送邮件</span></div><div class="line">git send-email 000*.patch</div><div class="line"><span class="meta">#</span><span class="bash">步骤3.恢复或者更新到版本库（不能使用 patch）补丁修复</span></div><div class="line">git apply xxx.patch</div></pre></td></tr></table></figure>
<p>Linux提取和补丁和修复的方式:</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">#将比较结果保存到patch文件</div><div class="line">  diff -u origin<span class="selector-class">.java</span> origin_new<span class="selector-class">.java</span> &gt; patchfile</div><div class="line">#对origin.java应用patch文件（升级），并备份（origin<span class="selector-class">.java</span><span class="selector-class">.orig</span>）  </div><div class="line">  patch -<span class="selector-tag">b</span> origin<span class="selector-class">.java</span> patchfile   </div><div class="line">#升级成功，此时origin.java和origin_new.java是一样的</div><div class="line"> diff origin<span class="selector-class">.java</span> origin_new<span class="selector-class">.java</span>  </div><div class="line">#将origin.java回退到“旧版本”,#回退成功，和“旧版本”是一样的,可通过diff origin<span class="selector-class">.java</span> origin<span class="selector-class">.java</span><span class="selector-class">.orig</span>  对比</div><div class="line"> patch -R origin<span class="selector-class">.java</span> patchfile</div></pre></td></tr></table></figure>
<ul>
<li>查看工作区和暂存区的文件</li>
</ul>
<figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">#列出工作空间的(linux指令)，或者窗口查看文件</div><div class="line"><span class="keyword">find</span> . -path <span class="string">"./.git"</span> -prune -<span class="keyword">o</span> -<span class="built_in">type</span> <span class="keyword">f</span>  -name <span class="string">"System*.java"</span> -<span class="built_in">printf</span> <span class="string">"%-20p\t%s\n"</span> 		//输出大小</div><div class="line"><span class="keyword">find</span> . -path <span class="string">"./.git"</span> -prune -<span class="keyword">o</span> -<span class="built_in">type</span> <span class="keyword">f</span>  -name <span class="string">"System*.java"</span> -<span class="keyword">print</span>  //不输出大小的</div><div class="line"></div><div class="line">#列出暂存区的文件</div><div class="line">git <span class="keyword">ls</span>-<span class="keyword">files</span>         //支持使用管道</div><div class="line">git <span class="keyword">ls</span>-<span class="keyword">files</span> -s      //额外输出 <span class="keyword">mode</span>,stage <span class="keyword">number</span></div></pre></td></tr></table></figure>
<ul>
<li>查看被忽略的文件</li>
</ul>
<figure class="highlight lua"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">status</span> <span class="comment">--ignored -s</span></div></pre></td></tr></table></figure>
<h4 id="2-git-log查提交记录"><a href="#2-git-log查提交记录" class="headerlink" title="2.git-log查提交记录"></a>2.git-log查提交记录</h4><figure class="highlight fsharp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git log --  &lt;files&gt;        <span class="comment">//查看提交的历史（HEAD之前的，之后的版本无展示）  </span></div><div class="line">git log --pretty=oneline   <span class="comment">//只显示提交信息的第一行</span></div><div class="line"></div><div class="line">git log **-p**  <span class="meta">[&lt;file&gt;]</span>   <span class="comment">//会显示**文件的提交信息以及前后差别**</span></div><div class="line">git log --graph   		    <span class="comment">//可以用图表形式输出提交日志   --也可以看到 图表形式分支的提交</span></div><div class="line">git log --graph --pretty=oneline --abbrev-commit   <span class="comment">//查询合并情况</span></div></pre></td></tr></table></figure>
<h4 id="3-git-reflog-查操作记录"><a href="#3-git-reflog-查操作记录" class="headerlink" title="3.git-reflog 查操作记录"></a>3.git-reflog 查操作记录</h4><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git reflog -- <span class="params">&lt;files&gt;</span>   <span class="comment">//查看历史操作记录。 查看当前仓库执行过的操作的日志</span></div></pre></td></tr></table></figure>
<p>注意：回退到某个版本之后，HEAD指向该版本，git log是查询HEAD之前的版本－－即新版的（当前HEAD之后的）看不到。 使用git reflog 查看操作记录</p>
<h4 id="4-git-blame-文件追溯"><a href="#4-git-blame-文件追溯" class="headerlink" title="4.git-blame 文件追溯"></a>4.git-blame 文件追溯</h4><p>当事情出错时，先去指责别人是人类的天性之一。如果你的产品服务器挂了，使用git blame命令可以很容易找出罪魁祸首。这个命令可以将文件中的每一行的作者、最新的变更提交和提交时间展示出来。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git blame &lt;file&gt;           <span class="comment">//会输出每一行的详细修改信息:包括SHA串,日期和作者</span></div><div class="line">git blame -L <span class="number">6</span>,+<span class="number">5</span> &lt;file&gt;   <span class="comment">//6行及后面的5行</span></div><div class="line">git blame -L <span class="number">6</span>,<span class="number">10</span> &lt;file&gt;   <span class="comment">//6~10行</span></div></pre></td></tr></table></figure>
<h4 id="5-git-branch-查看分支"><a href="#5-git-branch-查看分支" class="headerlink" title="5.git-branch 查看分支"></a>5.git-branch 查看分支</h4><figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">git branch -a       <span class="comment">//查看所有版本</span></div><div class="line">git branch          <span class="comment">//查看分支</span></div><div class="line">git branch -r       <span class="comment">//查看远程分支</span></div><div class="line"></div><div class="line">git <span class="built_in">rev</span>-<span class="built_in">parse</span> --symbolic --branches  <span class="comment">//显示当前的分支</span></div><div class="line">git <span class="built_in">rev</span>-<span class="built_in">parse</span> --symbolic --tags      <span class="comment">//显示当前的tag,有术语称 里程碑</span></div></pre></td></tr></table></figure>
<h3 id="3-3-添加到暂存区"><a href="#3-3-添加到暂存区" class="headerlink" title="3.3 添加到暂存区"></a>3.3 添加到暂存区</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#方式一：添加到 暂存区(Stage或者Index)</span></div><div class="line">git <span class="keyword">add</span><span class="bash"> &lt;files&gt; </span></div><div class="line"><span class="comment">#方式二：交互式选择性界面进行添加（如果文件众多，推荐这个）,可以进行分类进行选择并且可同时选座多个</span></div><div class="line">git <span class="keyword">add</span><span class="bash"> -i</span></div><div class="line"><span class="comment">#方式三：交互式查看内容差异选择</span></div><div class="line">git <span class="keyword">add</span><span class="bash"> -p   //每项变动会让你确认， 输入 y 来暂存该块,输入 n 不暂存, 输入 e 手工编辑该块，输入，d 退出或者转到下一个文件...</span></div></pre></td></tr></table></figure>
<p> 参数 <strong><em>-u</em></strong>代表将文件的修改、文件的删除，添加到暂存区，默认就是 <strong><em>-u</em></strong>， <strong><em>-A</em></strong>代表将文件的修改，文件的删除，文件的新建，添加到暂存区。，</p>
<h3 id="3-4-提交到本地仓库"><a href="#3-4-提交到本地仓库" class="headerlink" title="3.4 提交到本地仓库"></a>3.4 提交到本地仓库</h3><figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#方式一： 基本上用这个</span></div><div class="line">git commit -m <span class="string">"描述"</span>    </div><div class="line"><span class="meta">#方式二： 危险，慎用。git add 和 git commit的结合。直接提交到仓库</span></div><div class="line">git commit -am <span class="string">"描述"</span></div></pre></td></tr></table></figure>
<h3 id="3-5-删除"><a href="#3-5-删除" class="headerlink" title="3.5 删除"></a>3.5 删除</h3><figure class="highlight vim"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"> rm <span class="symbol">&lt;files&gt;</span>                 //本地删除，如需要更新暂存区，需要<span class="built_in">add</span>，如需要提交本地库则需要commit,下面的指令同理</div><div class="line"> git rm <span class="symbol">&lt;files&gt;</span>             //从HEAD中（即已提交）删除，放在stage里（未提交） </div><div class="line"> git rm --cached <span class="symbol">&lt;files&gt;</span>    //从stage中（即已<span class="built_in">index</span>）删除，放在workding里（工作空间）</div><div class="line"> </div><div class="line"> </div><div class="line">#查看哪些文件和目录会被删除</div><div class="line">git clean  -nd     //查看<span class="built_in">remove</span> Untracked <span class="keyword">files</span>(即删除本地多余的文件和目录，未<span class="built_in">add</span>新增的文件)</div><div class="line">#删除 Untracked <span class="keyword">files</span> </div><div class="line">git clean  -fd     //<span class="built_in">remove</span> Untracked <span class="keyword">files</span></div></pre></td></tr></table></figure>
<h3 id="3-6-想后悔（撤销）"><a href="#3-6-想后悔（撤销）" class="headerlink" title="3.6 想后悔（撤销）"></a>3.6 想后悔（撤销）</h3><h4 id="1-修改提交信息"><a href="#1-修改提交信息" class="headerlink" title="1.修改提交信息"></a>1.修改提交信息</h4><figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git commit <span class="params">--amend</span>       <span class="string">//</span>修改提交信息</div></pre></td></tr></table></figure>
<h4 id="2-压缩历史记录"><a href="#2-压缩历史记录" class="headerlink" title="2.压缩历史记录"></a>2.压缩历史记录</h4><p>把这次的提交和之前的提交 这两个历史记录  压缩成一个历史记录，场景举例：例如发现已经提交的内容中有些拼写错误等，rebase将这个修改包含前一个提交之中，压缩成一个历史记录</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git rebase -<span class="selector-tag">i</span> HEAD~<span class="number">2</span>   <span class="comment">//修改提交信息</span></div></pre></td></tr></table></figure>
<h4 id="3-还原文件（可用交互方式）"><a href="#3-还原文件（可用交互方式）" class="headerlink" title="3.还原文件（可用交互方式）"></a>3.还原文件（可用交互方式）</h4><ul>
<li>撤销<strong>working directory(工作区)</strong>级别的  </li>
</ul>
<figure class="highlight vala"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#还原未add(即未index)的文件       ---&gt;从stage还原到工作区 </span></div><div class="line">git checkout  -- &lt;files&gt;</div><div class="line"><span class="meta">#还原未add(即未index)的所有文件（很危险，本地修改的会无声息地被覆盖）</span></div><div class="line">git checkout  -- .</div><div class="line"><span class="meta">#还原某个分支上文件。uncommit &amp; unstage &amp; unworkspace.当前仓库以及stage修改的会无声息地被覆盖</span></div><div class="line">   git checkout branch  -- &lt;files&gt; </div><div class="line"></div><div class="line"><span class="meta">#从历史中还原已经被删除的（假设刚提交的删除，可从上次（即HEAD~1）中恢复）</span></div><div class="line">git checkout HEAD~<span class="number">1</span> -- &lt;files&gt; 		<span class="comment">//从历史中恢复某文件</span></div></pre></td></tr></table></figure>
<ul>
<li>撤销<strong>stage(暂存区)</strong>级别的  </li>
</ul>
<figure class="highlight leaf"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">#</span><span class="title">unstage</span><span class="params">(不会回退<span class="variable">commit</span>的)</span></span>, 还原已经add(即已经index)的到工作区  --&gt;从HEAD还原到stage </div><div class="line">git reset HEAD &lt;files&gt;</div><div class="line"><span class="function"><span class="keyword">#</span><span class="title">unstage</span><span class="params">(不会回退<span class="variable">commit</span>的)</span></span>, 还原已经add(即已经index)的到工作区  --&gt;从HEAD还原到stage</div><div class="line">git reset -- &lt;files&gt;</div><div class="line">#unstage所有的文件(不会回退commit的),还原所有已经add</div><div class="line">	git reset HEAD</div><div class="line">3) </div><div class="line">   git checkout branch  -- &lt;files&gt;</div></pre></td></tr></table></figure>
<ul>
<li>撤销<strong>commit(本地仓库)</strong>级别的<br>commid_id   获取方式：①可通过 git log 取前几位即可，只要不冲突 ② git reflog查看历史操作记录。commit_id也可通过 HEAD^（上次的）  or HEAD^^（上上次的） or HEAD~100 or 版本号(前几位即可)</li>
</ul>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#uncommit &amp; unstage  <span class="comment">//，会回退commit和index信息</span></span></div><div class="line">git reset <span class="params">&lt;commit_id&gt;</span> <span class="comment">//(git reset --mixed 是默认的，会回退commit和index信息)</span></div><div class="line"><span class="meta">#uncommit,不回退index信息 </span></div><div class="line"> 	git reset --soft <span class="params">&lt;commit_id&gt;</span>  </div><div class="line"><span class="meta">#uncommit &amp; unstage &amp; unworkspace,会回退commit、index和工作区(workspace)信息</span></div><div class="line"><span class="meta">#文件全部回退到当前版本，不可恢复。慎用！！！当可以撤销操作恢复</span></div><div class="line"> 	git reset --hard <span class="params">&lt;commit_id&gt;</span>  </div><div class="line"></div><div class="line"><span class="meta">#从历史中还原已经被删除的（假设刚提交的删除，可从上次（即HEAD~1）中恢复）</span></div><div class="line">git checkout HEAD~<span class="number">1</span> -- <span class="params">&lt;files&gt;</span> 		<span class="comment">//从历史中恢复某文件</span></div></pre></td></tr></table></figure>
<ul>
<li>撤销<strong>reflog(操作)</strong>级别的（通过  git reflog查commid id）</li>
</ul>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash">会回退这个reflog下一个操作到workspace</span></div><div class="line">  git reset  &lt;commit_id&gt;  </div><div class="line"><span class="meta">#</span><span class="bash">会回退这个reflog下一个操作到index里</span></div><div class="line">  git reset  --soft  &lt;commit_id&gt;  </div><div class="line"><span class="meta">  #</span><span class="bash">会直接回退到这个版本,//文件全部回退到当前版本，git <span class="built_in">log</span>不可恢复。</span></div><div class="line"><span class="meta">#</span><span class="bash">慎用！！！但是可以通过 git reflog </span></div><div class="line">  git reset --hard  &lt;commit_id&gt;</div></pre></td></tr></table></figure>
<h3 id="3-6-分支管理"><a href="#3-6-分支管理" class="headerlink" title="3.6 分支管理"></a>3.6 分支管理</h3><h4 id="1-查看分支（git-branch）"><a href="#1-查看分支（git-branch）" class="headerlink" title="1.查看分支（git branch）"></a>1.查看分支（git branch）</h4><figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">git branch -a       <span class="comment">//查看所有版本</span></div><div class="line">git branch          <span class="comment">//查看分支</span></div><div class="line">git branch -r       <span class="comment">//查看远程分支</span></div><div class="line"></div><div class="line"></div><div class="line">git <span class="built_in">rev</span>-<span class="built_in">parse</span> --symbolic --branches  <span class="comment">//显示当前的分支</span></div><div class="line">git <span class="built_in">rev</span>-<span class="built_in">parse</span> --symbolic --tags      <span class="comment">//显示当前的tag,有术语称 里程碑</span></div></pre></td></tr></table></figure>
<h4 id="2-创建分支（git-branch-和git-checkout-b）"><a href="#2-创建分支（git-branch-和git-checkout-b）" class="headerlink" title="2.创建分支（git branch 和git checkout -b）"></a>2.创建分支（git branch 和git checkout -b）</h4><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout -b <span class="params">&lt;分支名&gt;</span>    <span class="comment">//创建分支并切换分支，等价于(git branch + git checkout)</span></div><div class="line">git branch  <span class="params">&lt;分支名&gt;</span>        <span class="comment">//创建分支</span></div></pre></td></tr></table></figure>
<h4 id="3-切换分支-git-checkout"><a href="#3-切换分支-git-checkout" class="headerlink" title="3.切换分支(git checkout)"></a>3.切换分支(git checkout)</h4><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git checkout <span class="params">&lt;分支名&gt;</span>    <span class="comment">//切换分支（本地库已经存在的）</span></div><div class="line">git checkout -          <span class="comment">//切换回上一个分支</span></div></pre></td></tr></table></figure>
<h4 id="4-从远程更新分支-git-fetch-和-git-pull"><a href="#4-从远程更新分支-git-fetch-和-git-pull" class="headerlink" title="4.从远程更新分支(git fetch 和 git pull)"></a>4.从远程更新分支(git fetch 和 git pull)</h4><figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#获取更新但不合并(git fetch只会将本地库所关联的远程库的commit id更新至最新),但是本地不更新</span></div><div class="line">git fetch  <span class="params">&lt;远程主机名&gt;</span>         <span class="comment">//远程主机名默认是origin，一般都是这个</span></div><div class="line">   git fetch <span class="params">&lt;远程主机名&gt;</span> <span class="params">&lt;分支名&gt;</span> <span class="comment">//限定更新某个分支</span></div><div class="line"></div><div class="line"><span class="meta">#获取更新但是合并(因为涉及merge，会有冲突，请查看**4.4分支管理-解决冲突**部分)</span></div><div class="line">git pull <span class="params">&lt;远程主机名&gt;</span>     <span class="comment">//默认匹配与本地分支名一样的远程分支。</span></div><div class="line">git pull <span class="params">&lt;远程主机名&gt;</span> <span class="params">&lt;远程分支名&gt;</span>:<span class="params">&lt;本地分支名&gt;</span></div></pre></td></tr></table></figure>
<p>　　网上说git pull相当于 git fetch+git merge,从本地库结果上看一样），但是本地的远程库信息不会更新。例如，假设远程新建了分支，git pull不会更新，但是git fetch+git merge会更新，详细可看<a href="http://blog.csdn.net/a19881029/article/details/42245955" target="_blank" rel="external">git fetch和git pull之间的区别</a>.</p>
<p>　　如果git pull有冲突的时，是需要解决的。请查看<strong>4.4分支管理-解决冲突</strong>部分</p>
<h4 id="5-删除分支"><a href="#5-删除分支" class="headerlink" title="5.删除分支"></a>5.删除分支</h4> <figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash">删除本地分支</span></div><div class="line">git branch -d dev</div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash">删除远程库</span></div><div class="line">git remote rm &lt;分支名&gt;   </div><div class="line"><span class="meta"></span></div><div class="line">#<span class="bash">删除远程库已经不存在的分支(是指删除 本地远程库在远程库不存在的，不会删除本地的)</span></div><div class="line">git remote prune origin</div></pre></td></tr></table></figure>
<h4 id="6-合并分支"><a href="#6-合并分支" class="headerlink" title="6.合并分支"></a>6.合并分支</h4><figure class="highlight livecodeserver"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">merge</span> &lt;分支&gt;   </div><div class="line">git <span class="built_in">merge</span> <span class="comment">--no-commit &lt;分支&gt;</span></div></pre></td></tr></table></figure>
<p>举例说明，假设分支dev开发完毕，想要将它合并到主干分支master中</p>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#①首先 切换到master分支</span></div><div class="line">git checkout <span class="keyword">master</span></div><div class="line"><span class="title">#②合并分支dev</span>，为了在历史记录中明确记录下本次分支合并，我们需要创建合并提交。 ---&gt; 在合并时加上 --no-ff参数</div><div class="line">	git merge --no-ff  dev</div></pre></td></tr></table></figure>
<h4 id="7-解决冲突"><a href="#7-解决冲突" class="headerlink" title="7.解决冲突"></a>7.解决冲突</h4><p>　　现在的冲突一般由以下的指令：</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">　git merge      <span class="comment">//自动合并，如果有同个类改动的话，可手工修改文件修复</span></div><div class="line"><span class="function"><span class="title">git</span> pull      //git fetch--&gt;</span> git merge（解决可参看git push的前两步骤）</div><div class="line"><span class="function"><span class="title">git</span> push      //git fetch--&gt;</span> <span class="function"><span class="title">git</span> merge --&gt;</span> git push</div></pre></td></tr></table></figure>
<p>下面以git push为例，因为他包含了其他指令冲突的操作，git pull冲突会报rejected的失败，解决这个冲突一般流程是：  </p>
<figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">　git fetch                 <span class="comment">//更新本地的远程库</span></div><div class="line">git merge origin/&lt;分支名&gt;  <span class="comment">//自动合并，如果有同个类改动的话，可手工修改文件修复</span></div><div class="line">                          <span class="comment">//如果改了同个类，自动合并并不会成功，可通过看  git status对应的文件，可通过修改对应的文件解决冲突。比如删除&lt;&lt;&lt;===&gt;&gt;&gt;之间的。图形界面可通过  git mergetool来进行。</span></div><div class="line">git <span class="keyword">push</span>                  <span class="comment">//push 到远程</span></div><div class="line">git <span class="built_in">log</span> -l -m --stat      <span class="comment">//可以查看合并所做的修改</span></div></pre></td></tr></table></figure>
<p>　　由于现在比较喜欢的是通过IDEA的git插件和window的Tortoise git来图形界面解决冲突。他们合并的时候会告诉你哪些是冲突的，例如Tortoise git会标红，然然一个一个地解决冲突，大体都一直，有三个窗口，一个窗口是本地，一个远程的，一个解决冲突后代码展示。解决后有些标记下已解决。</p>
<h2 id="四、Git与远程交互的一些操作"><a href="#四、Git与远程交互的一些操作" class="headerlink" title="四、Git与远程交互的一些操作"></a>四、Git与远程交互的一些操作</h2><h3 id="4-1-获取远程Git项目"><a href="#4-1-获取远程Git项目" class="headerlink" title="4.1 获取远程Git项目"></a>4.1 获取远程Git项目</h3><p>　　如果涉及到分支的操作，请查看4.4分支管理</p>
<ul>
<li><strong>从远程中克隆项目(git clone)</strong></li>
</ul>
<figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">git <span class="keyword">clone</span> <span class="title">&lt;地址&gt;    //Git</span>支持多种协议，包括https，但通过ssh支持的原生git协议速度最快。</div><div class="line">git <span class="keyword">clone</span> <span class="title">-b</span> <span class="tag">&lt;分支名&gt;</span>  <span class="tag">&lt;地址&gt;</span>  //克隆一个 分支</div></pre></td></tr></table></figure>
<ul>
<li><strong>获取远程的分支</strong>（即在本地创建一个和远程名称一样的本地分支）</li>
</ul>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">git</span> checkout -<span class="keyword">b </span> local-<span class="keyword">branchname </span> origin/remote_branchname</div></pre></td></tr></table></figure>
<ul>
<li><strong>从远程的分支根更新本地(git fetch,git pull)</strong></li>
</ul>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#获取更新但不合并(git fetch只会将本地库所关联的远程库的commit id更新至最新),但是本地不更新</span></div><div class="line">git fetch  <span class="params">&lt;远程主机名&gt;</span>         <span class="comment">//远程主机名默认是origin，一般都是这个</span></div><div class="line">   git fetch <span class="params">&lt;远程主机名&gt;</span> <span class="params">&lt;分支名&gt;</span> <span class="comment">//限定更新某个分支</span></div><div class="line"></div><div class="line"><span class="meta">#获取更新但是合并(因为涉及merge，会有冲突，请查看**4.4分支管理-解决冲突**部分)</span></div><div class="line">git pull <span class="params">&lt;远程主机名&gt;</span>     <span class="comment">//默认匹配与本地分支名一样的远程分支。</span></div><div class="line">git pull <span class="params">&lt;远程主机名&gt;</span> <span class="params">&lt;远程分支名&gt;</span>:<span class="params">&lt;本地分支名&gt;</span></div></pre></td></tr></table></figure>
<p>　　网上说git pull相当于 git fetch+git merge,从本地库结果上看一样），但是本地的远程库信息不会更新。例如，假设远程新建了分支，git pull不会更新，但是git fetch+git merge会更新，详细可看<a href="http://blog.csdn.net/a19881029/article/details/42245955" target="_blank" rel="external">git fetch和git pull之间的区别</a>.<br>　　如果git pull有冲突的时，是需要解决的。请查看<strong>4.4分支管理-解决冲突</strong>部分</p>
<h3 id="4-2-关联远程仓库"><a href="#4-2-关联远程仓库" class="headerlink" title="4.2 关联远程仓库"></a>4.2 关联远程仓库</h3><ul>
<li><p><strong>是否拥有远程库</strong>（公司的也可以，如已拥有则跳过）</p>
<ol>
<li><p>创建SSH Key</p>
<pre><code>gm-keygen -t rsa -C &quot;youremail@example.com” #根目录（用户主目录下，如果有.ssh目录，同时这个目录下有id_rsa和id_rsa.pub这两个文件 ＝＝》已安装）
</code></pre><ol>
<li><p>登陆GitHub，打开“Account settings”，“SSH Keys”页面：点“Add SSH Key”，填上任意Title，在Key文本框里粘贴id_rsa.pub文件的内容</p>
</li>
<li><p>添加远程库<br>登陆GitHub-&gt;Create a new repo-&gt;Repository name填入learnGit， —&gt;Create repository</p>
</li>
</ol>
</li>
</ol>
</li>
<li><p><strong>本地关联远程(git remote)</strong></p>
</li>
</ul>
<figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">git remote <span class="keyword">add</span><span class="bash"> origin  &lt;git地址&gt;  //远程主机名的名字就是origin，这是Git默认的叫法）r</span></div><div class="line"></div><div class="line"><span class="comment">#取消关联</span></div><div class="line">git remote rm origin</div></pre></td></tr></table></figure>
<ul>
<li><strong>推送到远程库(git pull)</strong></li>
</ul>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#第一次推送，把本地库提交的内容推到远程库（需私钥，故只有自己可以）</span></div><div class="line">git push -u origin <span class="params">&lt;分支名&gt;</span>    <span class="comment">//第一次一般是master,当前分支的内容就会被推送给远程仓库origin</span></div><div class="line"><span class="meta">#非第一次推送 (可能会遇到冲突，是需要解决的。请查看**4.4分支管理-解决冲突**部分)</span></div><div class="line">	git push origin  <span class="params">&lt;分支名&gt;</span></div></pre></td></tr></table></figure>
<p>　　第一次推送master分支时，加上了-u参数，1. Git不但会把本地的master分支内容推送的远程新的master分支，还会把本地的master分支和远程的master分支关联起来，在以后的推送或者拉取时就可以简化命令。  2. 参数可以在推送的同时，将origin仓库的master分支设置为本地仓库当前分支upstream(上游).  添加了这个参数，将来在git pull命令从远程获取内容，省去了另外添加参数的麻烦</p>
<p>　　如果git push有冲突的时，是需要解决的。请查看<strong>4.4分支管理-解决冲突</strong>部分</p>
<p>　　
　　</p>
<p><em>PS:有任何关于的问题，欢迎来评论讨论交流。</em></p>
<h2 id="五、参考网站"><a href="#五、参考网站" class="headerlink" title="五、参考网站"></a>五、参考网站</h2><ol>
<li>参考《Git权威指南》</li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;公司前段时间已经从svn中迁移到git，但是发现开发在使用的过程中会遇到很多的问题。所以打算把自己学习的整理的笔记通过博客分享出来，并且后续会更新遇到的一些问题以及解决，如有时间也会后续详细整理一些操作。建议大家抽空看看《Git权威指南》，这本书比
    
    </summary>
    
      <category term="随笔" scheme="http://jamfliu.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="git" scheme="http://jamfliu.github.io/tags/git/"/>
    
      <category term="git remote" scheme="http://jamfliu.github.io/tags/git-remote/"/>
    
  </entry>
  
  <entry>
    <title>【原创】Tomcat8 安装和配置、优化</title>
    <link href="http://jamfliu.github.io/2017/05/16/Tomcat-Install-And-Setting/"/>
    <id>http://jamfliu.github.io/2017/05/16/Tomcat-Install-And-Setting/</id>
    <published>2017-05-16T10:58:35.000Z</published>
    <updated>2018-06-23T02:59:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>﻿<br>[TOC]</p>
<p>#一、 Tomcat 8 安装目标</p>
<ul>
<li>安装环境：rebhat 6.1 (linux通用)</li>
<li>安装目录：<code>/opt/extra/apache-tomcat-8.5.31</code></li>
<li>java目录：<code>/opt/java/jdk1.8.0_91</code></li>
<li>启动方式：<code>service tomcat8 start</code> 或者 </li>
<li>配置：<ul>
<li>更新端口，可以增加数据源，配置系统服务，jvm参数，安全考虑，服务器优化<br>#二、 Tomcat 8 安装<h2 id="2-1-安装来源以及简介"><a href="#2-1-安装来源以及简介" class="headerlink" title="2.1. 安装来源以及简介"></a>2.1. 安装来源以及简介</h2></li>
</ul>
</li>
<li>官网：<a href="http://tomcat.apache.org/" target="_blank" rel="external">http://tomcat.apache.org/</a></li>
<li>Tomcat 8 官网下载：<a href="http://tomcat.apache.org/download-80.cgi" target="_blank" rel="external">http://tomcat.apache.org/download-80.cgi</a></li>
<li>此时（20180524） Tomcat 8 最新版本为：<code>apache-tomcat-8.5.31.zip</code><h2 id="2-2-安装目录"><a href="#2-2-安装目录" class="headerlink" title="2.2. 安装目录"></a>2.2. 安装目录</h2></li>
<li>我个人习惯 <code>/opt</code> 目录下创建一个目录 <code>software</code> 用来存放各种软件安装包；在 <code>/opt</code> 目录下创建一个 <code>apps</code> 用来存放各种解压后的软件包，下面的讲解也都是基于此习惯。不过下面是公司的按照我会按照<code>opt/extra/</code>来。<ul>
<li>压缩包解压：<code>unzip apache-tomcat-8.5.31.zip</code></li>
<li>移到解压出来文件夹到 /usr 下：<code>mv apache-tomcat-8.5.31/ /opt/extra/</code><h2 id="2-3-更改端口（可跳过，根据需要修改）"><a href="#2-3-更改端口（可跳过，根据需要修改）" class="headerlink" title="2.3. 更改端口（可跳过，根据需要修改）"></a>2.3. 更改端口（可跳过，根据需要修改）</h2></li>
</ul>
</li>
<li>1) 编辑tomcat配置文件<ul>
<li>编辑tomcat配置文件<code>$tomcat_home/conf/server.xml</code> ，此处为：<code>/opt/extra/apache-tomcat-8.5.31/conf/server.xml</code></li>
</ul>
</li>
<li><p>2) 更改服务关闭端口</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Server</span> <span class="attr">port</span>=<span class="string">"8205"</span> <span class="attr">shutdown</span>=<span class="string">"SHUTDOWN"</span>&gt;</span></div></pre></td></tr></table></figure>
</li>
<li><p>3) 更改HTTP端口</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8280"</span> <span class="attr">protocol</span>=<span class="string">"HTTP/1.1"</span></span></div><div class="line">       <span class="attr">connectionTimeout</span>=<span class="string">"20000"</span></div><div class="line">       <span class="attr">redirectPort</span>=<span class="string">"8643"</span> /&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>4) 更改AJP端口（如无需用到，可注释掉）</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Connector</span> <span class="attr">port</span>=<span class="string">"8209"</span> <span class="attr">protocol</span>=<span class="string">"AJP/1.3"</span> <span class="attr">redirectPort</span>=<span class="string">"8643"</span> /&gt;</span></div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-4-配置jdbc数据源（可跳过，根据需要修改）"><a href="#2-4-配置jdbc数据源（可跳过，根据需要修改）" class="headerlink" title="2.4. 配置jdbc数据源（可跳过，根据需要修改）"></a>2.4. 配置jdbc数据源（可跳过，根据需要修改）</h2><ul>
<li>1) 更新端口<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">Resource</span> <span class="attr">name</span>=<span class="string">"test/b2c"</span> <span class="attr">auth</span>=<span class="string">"Container"</span> <span class="attr">driverClassName</span>=<span class="string">"oracle.jdbc.driver.OracleDriver"</span> <span class="attr">defaultAutoCommit</span>=<span class="string">"true"</span></span></div><div class="line">             <span class="attr">maxActive</span>=<span class="string">"20"</span> <span class="attr">maxWait</span>=<span class="string">"10000"</span> <span class="attr">initialSize</span>=<span class="string">"10"</span> <span class="attr">maxTotal</span>=<span class="string">"20"</span> <span class="attr">maxIdle</span>=<span class="string">"10"</span></div><div class="line">             <span class="attr">username</span>=<span class="string">"test_app_1"</span> <span class="attr">password</span>=<span class="string">"**********"</span> <span class="attr">type</span>=<span class="string">"javax.sql.DataSource"</span></div><div class="line">             <span class="attr">url</span>=<span class="string">"jdbc:oracle:thin:@(DESCRIPTION=(ADDRESS_LIST=(ADDRESS=(PROTOCOL=TCP)(HOST=xxx.xxx.xx1)(PORT=1521))(ADDRESS=(PROTOCOL=TCP)(HOST=xxx.xxx.xx2)(PORT=1521))(LOAD_BALANCE=on)(FAILOVER=on))(CONNECT_DATA=(SERVICE_NAME=service.xxxx.com)(FAILOVER_MODE=(TYPE=SELECT)(METHOD=BASIC))))"</span> </div><div class="line">             <span class="attr">validationQuery</span>=<span class="string">"SELECT sysdate FROM dual"</span> <span class="attr">testOnBorrow</span>=<span class="string">"true"</span>/&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="2-5-配置启动脚本服务（官方推荐在-CATALINA-BASE-bin-setenv-sh）"><a href="#2-5-配置启动脚本服务（官方推荐在-CATALINA-BASE-bin-setenv-sh）" class="headerlink" title="2.5. 配置启动脚本服务（官方推荐在$CATALINA_BASE/bin/setenv.sh）"></a>2.5. 配置启动脚本服务（官方推荐在$CATALINA_BASE/bin/setenv.sh）</h2><ul>
<li><p>1) 为避免环境冲突，配置变量。编辑<code>vim /opt/extra/apache-tomcat-8.5.31/bin/setenv.sh</code>  然后保存 (可选, 官方recommended这种。 或者在catalina.sh在配置文件的可编辑内容最上面添加)</p>
<figure class="highlight ini"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attr">JRE_HOME</span>=/opt/java/jdk1.<span class="number">8.0</span>_91</div><div class="line"><span class="attr">CATALINA_PID</span>=<span class="string">"$CATALINA_BASE/tomcat.pid"</span></div><div class="line"><span class="comment"># CATALINA_PID=`cd ../;pwd`/tomcat.pid  #或者这种方式 # 可以不用   JAVA_HOME=/opt/java/jdk1.8.0_91</span></div></pre></td></tr></table></figure>
</li>
<li><p>2) 常用命令</p>
<ul>
<li>启动 <ul>
<li><code>/opt/extra/apache-tomcat-8.5.31/catalina.sh start</code></li>
<li><code>sh /opt/extra/apache-tomcat-8.5.31/bin/startup.sh</code>  ； 可以边启动边查看日志 ;<code>sh  /opt/extra/apache-tomcat-8.5.31/bin/startup.sh; tail -200f /usr/program/tomcat8/logs/catalina.out</code> </li>
</ul>
</li>
<li><p>关闭 <code>sh  /opt/extra/apache-tomcat-8.5.31/bin/shutdown.sh</code>  或者   <code>cat /opt/extra/apache-tomcat-8.5.31/tomcat.pid | xargs kill -9</code> 或者  /opt/extra/apache-tomcat-8.5.31/bin/catalina.sh stop</p>
</li>
<li><p>查看服务 <code>ps aux|grep tomcat|grep -v grep</code></p>
<h2 id="2-6-配置系统服务"><a href="#2-6-配置系统服务" class="headerlink" title="2.6. 配置系统服务"></a>2.6. 配置系统服务</h2></li>
</ul>
</li>
<li><p>1)  安装步骤一： 配置JSVC服务启动方式 （为什么要用，查看附录说明）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">cd /opt/extra/apache-tomcat-8.5.31/bin</div><div class="line">tar xvfz commons-daemon-native.tar.gz</div><div class="line">cd commons-daemon-1.1.0-native-src/unix</div><div class="line">./configure --with-java=/opt/java/jdk1.8.0_91</div></pre></td></tr></table></figure>
<pre><code>- ./configure易出现的问题
- 缺少编译工具，gcc等。需要安装。 过程可能会缺少对于的报，可以找原镜像按照 。 例如：缺少`/usr/lib64/libc.so`。查看`rpm -qf /usr/lib64/libc.so`, 安装：`rpm -ivh /mnt/rhiso1/Packages/glibc-devel-2.12-1.25.el6.x86_64.rpm`
</code></pre></li>
<li><p>2)  安装步骤二</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">make</div><div class="line">cp jsvc ../..</div><div class="line">cd  ../..</div></pre></td></tr></table></figure>
</li>
<li><p>3) 我们可以用daemon.sh脚本。其启动脚本的命令大致如下：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">CATALINA_BASE=$CATALINA_HOME</div><div class="line">cd $CATALINA_HOME</div><div class="line">./bin/jsvc \</div><div class="line">    -classpath $CATALINA_HOME/bin/bootstrap.jar:$CATALINA_HOME/bin/tomcat-juli.jar \</div><div class="line">    -outfile $CATALINA_BASE/logs/catalina.out \</div><div class="line">    -errfile $CATALINA_BASE/logs/catalina.err \</div><div class="line">    -Dcatalina.home=$CATALINA_HOME \</div><div class="line">    -Dcatalina.base=$CATALINA_BASE \</div><div class="line">    -Djava.util.logging.manager=org.apache.juli.ClassLoaderLogManager \</div><div class="line">    -Djava.util.logging.config.file=$CATALINA_BASE/conf/logging.properties \</div><div class="line">    org.apache.catalina.startup.Bootstrap</div></pre></td></tr></table></figure>
</li>
<li><p>3) 我们可以用daemon.sh脚本。其启动脚本的命令大致如下：找到如下内容</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">test ".$TOMCAT_USER" = . &amp;&amp; TOMCAT_USER=tomcat</div><div class="line"><span class="meta">#</span><span class="bash"> Set JAVA_HOME to working JDK or JRE</span></div><div class="line"><span class="meta">#</span><span class="bash"> 修改TOMCAT_USER=tomcat为你指定用来运行tomcat的用户名，去除JAVA_HOME前的注释（即“<span class="comment">#”号），并设置为JDK的所在目录。</span></span></div></pre></td></tr></table></figure>
</li>
</ul>
<p>在文件靠前位置的注释中加入下面的内容</p>
<pre><code><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash"> chkconfig: - 80 20</span></div></pre></td></tr></table></figure>
</code></pre><h2 id="2-7-配置日志"><a href="#2-7-配置日志" class="headerlink" title="2.7. 配置日志"></a>2.7. 配置日志</h2><ul>
<li><p>1)  在 Apache Tomcat 上运行的 Web 应用可以使用</p>
<ul>
<li>系统日志 API，java.util.logging。</li>
<li>Java Servlets 规范所提供的日志 API，javax.servlet.ServletContext.log(…)。</li>
<li>各个应用可以使用不同的日志框架，详情参见类加载器。java.util.logging 则是例外。如果日志库直接或间接地用到了这一 API，那么 Web 应用就能共享使用它的元素，因为该 API 是由System类加载器所加载的。 （ Bootstrap–&gt;System–&gt;Common–&gt;Webapp1）</li>
<li><p>Access 日志</p>
<ul>
<li>Access 日志功能相近，但还是有所不同。它是一个 Valve，使用自包含的逻辑来编写日志文件。访问日志的基本需求是以较低开销处理大型连续数据流，所以只能使用 Commomns Logging 来处理自身的调试消息。这种实现方法避免了额外的开销，并且可能具有较复杂的配置。请参考 Valves 文档了解更多配置详情，其中包含了各种报告格式。</li>
<li>可以增加真实ip的记录；<ul>
<li>nginx中配置<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">    proxy_set_header X-Real-IP $remote_addr;</div><div class="line">    proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;</div><div class="line">  ``` </div><div class="line">            -  tomcat中server.xml配置</div><div class="line"> ``` xml</div><div class="line">      &lt;Valve className="org.apache.catalina.valves.AccessLogValve" directory="logs"</div><div class="line">              prefix="localhost_access_log" suffix=".txt"</div><div class="line">             pattern="%&#123;X-FORWARDED-FOR&#125;i %h %l %u %t &amp;quot;%r&amp;quot; %s %b" resolveHosts="false"/&gt; </div><div class="line"> ``` </div><div class="line">- 2)  使用Log4j</div><div class="line">    -  过配置 Tomcat 使用 log4j</div><div class="line"></div><div class="line"></div><div class="line">- 修改默认的链接参数配置：</div><div class="line">      - 默认值：</div><div class="line">      ``` xml</div><div class="line">      &lt;Connector </div><div class="line">          port="8080" </div><div class="line">          protocol="HTTP/1.1" </div><div class="line">          connectionTimeout="20000" </div><div class="line">          redirectPort="8443" </div><div class="line">      /&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<ul>
<li>修改为：<br>``` xml<connector executor="tomcatThreadPool" port="8280" protocol="org.apache.coyote.http11.Http11Nio2Protocol" connectiontimeout="20000" maxconnections="10000" redirectport="8643" enablelookups="false" acceptcount="100" maxpostsize="10485760" maxhttpheadersize="8192" compression="on" disableuploadtimeout="true" compressionminsize="2048" acceptorthreadcount="2" compressablemimetype="text/html,text/xml,text/plain,text/css,text/javascript,application/javascript" uriencoding="utf-8">



</connector></li>
</ul>
</li>
</ul>
</li>
</ul>
<h1 id="附录"><a href="#附录" class="headerlink" title="附录"></a>附录</h1><h2 id="解答环境"><a href="#解答环境" class="headerlink" title="解答环境"></a>解答环境</h2><ul>
<li>export 在子shell，父shell中的变量传递<ul>
<li>子 shell 对父 shell 里 export 出来的变量进行修改并不能影响到父 shell</li>
<li>子 shell 只是在“导出变量列表“里对该变量进行了一个拷贝。但反过来，父shell再次更改此变量时，子 shell 再去读时，读到的是新值，而不是原来的值。</li>
</ul>
</li>
<li>为什么要用jsvc<ul>
<li>Jsvc is a set of libraries and applications for making Java applications run on UNIX more easily. Jsvc allows the application (e.g. Tomcat) to perform some privileged operations as root (e.g. bindto a port &lt; 1024), and then switch identity to a non-privileged user. </li>
<li>使用jsvc管理Tomcat的运行，相比使用其他方式最大的优势是可以使Tomcat以root身份做一些非root身份做不了的事，例如绑定端口到小与1024的端口，例如80。 </li>
<li>通常为了安全考虑，linux服务器上运行Tomcat程序的进程其身份均不为root，这为Tomcat的正常使用带来了一些限制，使用jsvc恰好可以弥补这些限制带来的不足。</li>
</ul>
</li>
</ul>
<h2 id="资料"><a href="#资料" class="headerlink" title="资料"></a>资料</h2><ul>
<li><a href="http://tomcat.apache.org/tomcat-8.5-doc/setup.html" target="_blank" rel="external">http://tomcat.apache.org/tomcat-8.5-doc/setup.html</a></li>
<li><a href="http://tomcat.apache.org/tomcat-8.5-doc/RUNNING.txt" target="_blank" rel="external">http://tomcat.apache.org/tomcat-8.5-doc/RUNNING.txt</a></li>
<li><a href="http://tomcat.apache.org/tomcat-8.5-doc/BUILDING.txt" target="_blank" rel="external">http://tomcat.apache.org/tomcat-8.5-doc/BUILDING.txt</a></li>
<li><a href="http://commons.apache.org/proper/commons-daemon/jsvc.html" target="_blank" rel="external">http://commons.apache.org/proper/commons-daemon/jsvc.html</a> </li>
<li><https: youmeek.gitbooks.io="" linux-tutorial="" content="" markdown-file="" tomcat-install-and-settings.html=""></https:></li>
<li><http: wiki.jikexueyuan.com="" project="" tomcat="" logging.html=""></http:></li>
<li><a href="http://www.jikexueyuan.com/course/2064_3.html?ss=1" target="_blank" rel="external">http://www.jikexueyuan.com/course/2064_3.html?ss=1</a></li>
<li><a href="http://www.jikexueyuan.com/course/2064_3.html?ss=1" target="_blank" rel="external">http://www.jikexueyuan.com/course/2064_3.html?ss=1</a></li>
<li><a href="http://www.wellho.net/mouth/2163_CATALINA-OPTS-v-JAVA-OPTS-What-is-the-difference-.html" target="_blank" rel="external">http://www.wellho.net/mouth/2163_CATALINA-OPTS-v-JAVA-OPTS-What-is-the-difference-.html</a></li>
<li><a href="http://blog.csdn.net/sunlovefly2012/article/details/47395165" target="_blank" rel="external">http://blog.csdn.net/sunlovefly2012/article/details/47395165</a></li>
<li><a href="http://blog.csdn.net/lifetragedy/article/details/7708724" target="_blank" rel="external">http://blog.csdn.net/lifetragedy/article/details/7708724</a></li>
<li><a href="http://ihuangweiwei.iteye.com/blog/1233941" target="_blank" rel="external">http://ihuangweiwei.iteye.com/blog/1233941</a></li>
<li><a href="http://www.cnblogs.com/ggjucheng/archive/2013/04/16/3024731.html" target="_blank" rel="external">http://www.cnblogs.com/ggjucheng/archive/2013/04/16/3024731.html</a></li>
<li><a href="http://www.apelearn.com/study_v2/chapter23.html" target="_blank" rel="external">http://www.apelearn.com/study_v2/chapter23.html</a></li>
<li><a href="http://blog.csdn.net/hanzheng260561728/article/details/51236131" target="_blank" rel="external">http://blog.csdn.net/hanzheng260561728/article/details/51236131</a></li>
<li><a href="http://blog.csdn.net/attagain/article/details/38639007" target="_blank" rel="external">http://blog.csdn.net/attagain/article/details/38639007</a></li>
</ul>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;﻿&lt;br&gt;[TOC]&lt;/p&gt;
&lt;p&gt;#一、 Tomcat 8 安装目标&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;安装环境：rebhat 6.1 (linux通用)&lt;/li&gt;
&lt;li&gt;安装目录：&lt;code&gt;/opt/extra/apache-tomcat-8.5.31&lt;/code&gt;&lt;/li
    
    </summary>
    
      <category term="IT" scheme="http://jamfliu.github.io/categories/IT/"/>
    
    
      <category term="Tomcat" scheme="http://jamfliu.github.io/tags/Tomcat/"/>
    
      <category term="Tomcat优化" scheme="http://jamfliu.github.io/tags/Tomcat%E4%BC%98%E5%8C%96/"/>
    
  </entry>
  
  <entry>
    <title>【原创】如何使用hexo的NexT主题</title>
    <link href="http://jamfliu.github.io/2017/05/15/how-to-use-the-theme-next-for-hexo/"/>
    <id>http://jamfliu.github.io/2017/05/15/how-to-use-the-theme-next-for-hexo/</id>
    <published>2017-05-15T05:57:41.000Z</published>
    <updated>2017-05-19T02:53:15.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>之前使用的hexo的jacman,但是发现还是没hexo的nexT的简约，而且nexT本身就自配置了各种第三方插件，你需要开启和设置对应一些你的参数即可。<br>所以果断选他。这篇博客主要是简单带过并且补充一些我走过坑和一些注意事项。欢迎评论和交流。</p>
</blockquote>
<h2 id="一、名词解释"><a href="#一、名词解释" class="headerlink" title="一、名词解释"></a>一、名词解释</h2><ul>
<li><font style="color:blue"> <strong><em><a href="http://theme-next.iissnan.com" target="_blank" rel="external">NexT</a></em></strong></font>: 是hexo的一个主题，你可以换各种hexo主题，而保持原有内容不变。</li>
<li><font style="color:blue"><strong><em><a href="https://hexo.io/zh-cn/" target="_blank" rel="external">Hexo</a></em></strong></font>: 是高效的静态站点生成框架，基于 Node.js。 通过 Hexo 你可以轻松地使用 Markdown 编写文章，除了 Markdown 本身的语法之外，还可以使用 Hexo 提供的 标签插件 来快速的插入特定形式的内容。<br>特点：超快速度(渲染速度)，支持markdown,一键部署，丰富的插件</li>
<li><p><font style="color:blue"><strong><em><a href="https://www.npmjs.com/" target="_blank" rel="external">npm</a></em></strong></font>: 是随同NodeJS一起安装的包管理工具，能解决NodeJS代码部署上的很多问题</p>
<ol>
<li>允许用户从NPM服务器下载别人编写的第三方包到本地使用。  </li>
<li>允许用户从NPM服务器下载并安装别人编写的命令行程序到本地使用。 </li>
<li>允许用户将自己编写的包或命令行程序上传到NPM服务器供别人使用。</li>
</ol>
</li>
<li><p><font style="background-color:#2780e3;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
  text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">站点配置文件</font>:一份位于站点根目录下，主要包含 Hexo 本身的配置。位置：your-hexo-site/_config.yml</p>
</li>
<li><p><font style="background-color:#9954bb;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
  text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">主题配置文件</font>:位于主题目录下，这份配置由主题作者提供，主要用于配置主题相关的选项。位置: your-hexo-site/themes/主题名/_config.yml。例如next的就是your-hexo-site/themes/next/_config.yml</p>
</li>
</ul>
<hr>
<h2 id="二、Hexo安装指南"><a href="#二、Hexo安装指南" class="headerlink" title="二、Hexo安装指南"></a>二、Hexo安装指南</h2><h3 id="2-1-条件"><a href="#2-1-条件" class="headerlink" title="2.1 条件"></a>2.1 条件</h3><p>　　先安装好Git和Node.js （详细的安装过程见<a href="https://hexo.io/zh-cn/docs/" target="_blank" rel="external">官方教程</a>）</p>
<h3 id="2-2-Hexo的安装"><a href="#2-2-Hexo的安装" class="headerlink" title="2.2 Hexo的安装"></a>2.2 Hexo的安装</h3><h4 id="1-安装Hexo"><a href="#1-安装Hexo" class="headerlink" title="1.安装Hexo"></a>1.安装Hexo</h4><p>　　所有必备的应用程序安装完成后，即可使用 npm 安装 Hexo。</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">＄npm install -g hexo-<span class="keyword">cli</span></div></pre></td></tr></table></figure>
<h4 id="2-初始化Hexo"><a href="#2-初始化Hexo" class="headerlink" title="2.初始化Hexo"></a>2.初始化Hexo</h4><p>　　先转到自己自定的文件，作为Hexo的根目录（这时候可以省略<folder>的参数）</folder></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> hexo init &lt;folder&gt;</span></div><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> &lt;folder&gt;</span></div><div class="line"><span class="meta">$</span><span class="bash"> npm install</span></div></pre></td></tr></table></figure>
<hr>
<h3 id="2-3-Hexo主题安装"><a href="#2-3-Hexo主题安装" class="headerlink" title="2.3 Hexo主题安装"></a>2.3 Hexo主题安装</h3><p>　　Hexo 安装主题的方式非常简单，只需要将主题文件拷贝至站点目录的 themes 目录下， 然后修改下配置文件即可。</p>
<h3 id="2-4-Hexo目录简介"><a href="#2-4-Hexo目录简介" class="headerlink" title="2.4 Hexo目录简介"></a>2.4 Hexo目录简介</h3><p>详细看图片：</p>
<p><img src="/images/pages/hexo_desciption.png" alt="image"></p>
<h2 id="三、NexT主题安装指南"><a href="#三、NexT主题安装指南" class="headerlink" title="三、NexT主题安装指南"></a>三、NexT主题安装指南</h2><h3 id="3-1-条件"><a href="#3-1-条件" class="headerlink" title="3.1 条件"></a>3.1 条件</h3><p>　　先安装好Git和hexo<br>　　（详细的安装过程可参考<a href="http://theme-next.iissnan.com/getting-started.html" target="_blank" rel="external">官方教程</a>）（本人的是mac os x，直接brew install指令即可）</p>
<h3 id="3-2-主题安装步骤"><a href="#3-2-主题安装步骤" class="headerlink" title="3.2 主题安装步骤"></a>3.2 主题安装步骤</h3><h4 id="1-下载主题"><a href="#1-下载主题" class="headerlink" title="1.下载主题"></a>1.下载主题</h4><p>【方式一:Git的方式】<br>　在终端窗口下，定位到 Hexo 站点目录下。使用 Git checkout 代码：　　<br>　<br>（推荐此方式，之后的更新可以通过 git pull 来快速更新， 而不用再次下载压缩包替换。）</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> <span class="built_in">cd</span> your-hexo-site</span></div><div class="line"><span class="meta">$</span><span class="bash"> git <span class="built_in">clone</span> https://github.com/iissnan/hexo-theme-next themes/next</span></div></pre></td></tr></table></figure>
<p>【方式二:下载稳定版本】</p>
<ol>
<li><p>前往 NexT 版本 <a href="https://github.com/iissnan/hexo-theme-next/releases" target="_blank" rel="external">发布页面</a>。</p>
</li>
<li><p>选择你所需要的版本，下载 Download 区域下的 Source Code (zip) 到本地。例如，下载 v5.1.1 版本</p>
</li>
<li><p>解压所下载的压缩包至站点的 themes 目录下， 并将 解压后的文件夹名称（hexo-theme-next-5.1.1）更改为 next</p>
</li>
</ol>
<h4 id="2-站点配置主题"><a href="#2-站点配置主题" class="headerlink" title="2.站点配置主题"></a>2.站点配置主题</h4><p>打开<font style="background-color:#2780e3;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
    text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">站点配置文件</font>找到 theme 字段，并将其值更改为 next。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">theme: <span class="keyword">next</span></div></pre></td></tr></table></figure>
<p>到此，NexT 主题安装完成。下一步我们将验证主题是否正确启用。在切换主题之后、验证之前， 我们最好使用 hexo clean 来清除 Hexo 的缓存。</p>
<p><strong>注意事项</strong>：yml每项配置冒号:后面需要加空格的</p>
<h4 id="3-验证主题"><a href="#3-验证主题" class="headerlink" title="3.验证主题"></a>3.验证主题</h4><p>在hexo站点目录下，启动本地站点</p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">server</span></div></pre></td></tr></table></figure>
<p>可简写”<strong>hexo s</strong>“, 可以开启debug模式 “<strong>hexo server -debug</strong>“.</p>
<p>此时即可使用浏览器访问 <a href="http://localhost:4000" target="_blank" rel="external">http://localhost:4000</a> ，检查站点是否正确运行。</p>
<h3 id="3-3-使用"><a href="#3-3-使用" class="headerlink" title="3.3 使用"></a>3.3 使用</h3><p>（可参考<a href="https://hexo.io/zh-cn/docs/commands.html" target="_blank" rel="external">官方教程</a> )</p>
<h4 id="1-新建一篇文章"><a href="#1-新建一篇文章" class="headerlink" title="1.新建一篇文章"></a>1.新建一篇文章</h4><figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">new</span> [layout] &lt;<span class="built_in">title</span>&gt;</div></pre></td></tr></table></figure>
<p>　　新建一篇文章。如果没有设置 layout 的话，默认使用 _config.yml 中的 default_layout 参数代替。如果标题包含空格的话，请使用引号括起来。</p>
<h4 id="2-发表草稿"><a href="#2-发表草稿" class="headerlink" title="2.发表草稿"></a>2.发表草稿</h4><figure class="highlight dsconfig"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="string">hexo </span><span class="string">publish </span>[<span class="string">layout]</span> &lt;<span class="string">filename&gt;</span>     <span class="comment">#发表草稿</span></div><div class="line"><span class="string">hexo </span><span class="built_in">--draft</span>                         <span class="comment">#显示草稿的文章</span></div></pre></td></tr></table></figure>
<h4 id="3-生成静态文件"><a href="#3-生成静态文件" class="headerlink" title="3.生成静态文件"></a>3.生成静态文件</h4><p>　　把markdown、主题等生成静态文件</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">generate</span></div></pre></td></tr></table></figure>
<p>可简写 “<strong>hexo g</strong>“， 通过””<strong>hexo deploy -g</strong>“也是生成静态文件。<br>   “<strong>hexo generate -d</strong>“ 生成后立即部署。</p>
<h4 id="4-启动服务器"><a href="#4-启动服务器" class="headerlink" title="4.启动服务器"></a>4.启动服务器</h4><figure class="highlight axapta"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="keyword">server</span></div></pre></td></tr></table></figure>
<p>　　启动服务器。可简写 “”<strong>hexo s</strong>“，默认情况下，访问网址为： <a href="http://localhost:4000/" target="_blank" rel="external">http://localhost:4000/</a> 。</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>-p, –port</td>
<td>设置服务的端口号</td>
</tr>
<tr>
<td>-s, –static</td>
<td>只使用静态文件</td>
</tr>
<tr>
<td>-l, –log</td>
<td>启动日记记录,使用覆盖记录格式</td>
</tr>
</tbody>
</table>
<h4 id="5-部署网站"><a href="#5-部署网站" class="headerlink" title="5.部署网站"></a>5.部署网站</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo deploy</span></div></pre></td></tr></table></figure>
<p>　　部署网站到github上。选项<strong>-g, –generate</strong>部署之前预先生成静态文件</p>
<h4 id="6-清除缓存文件-db-json-和已生成的静态文件-public-。"><a href="#6-清除缓存文件-db-json-和已生成的静态文件-public-。" class="headerlink" title="6.清除缓存文件 (db.json) 和已生成的静态文件 (public)。"></a>6.清除缓存文件 (db.json) 和已生成的静态文件 (public)。</h4><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">hexo clean</span></div></pre></td></tr></table></figure>
<p>清除缓存文件 (db.json) 和已生成的静态文件 (public)。<br>在某些情况（尤其是更换主题后），如果发现您对站点的更改无论如何也不生效，您可能需要运行该命令。</p>
<h4 id="7-列出网站资料"><a href="#7-列出网站资料" class="headerlink" title="7.列出网站资料"></a>7.列出网站资料</h4><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hexo <span class="built_in">list</span> &lt;type&gt;</div></pre></td></tr></table></figure>
<h2 id="四、NexT主题定制化以及第三方配置指南"><a href="#四、NexT主题定制化以及第三方配置指南" class="headerlink" title="四、NexT主题定制化以及第三方配置指南"></a>四、NexT主题定制化以及第三方配置指南</h2><h3 id="4-1-我的主题定制的情况："><a href="#4-1-我的主题定制的情况：" class="headerlink" title="4.1 我的主题定制的情况："></a>4.1 我的主题定制的情况：</h3><p>　　修改<font style="background-color:#9954bb;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
    text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">主题配置文件</font>的。本身NexT主题里面有配置很多的第三方插件配置，所以只需要打开和对应配置你的一些App_ID即可。</p>
<h4 id="1-修改主题scheme"><a href="#1-修改主题scheme" class="headerlink" title="1.修改主题scheme"></a>1.修改主题scheme</h4><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">scheme:</span> Pisce</div></pre></td></tr></table></figure>
<h4 id="2-设置代码高亮"><a href="#2-设置代码高亮" class="headerlink" title="2.设置代码高亮"></a>2.设置代码高亮</h4><figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">highlight_theme:</span> night bright</div></pre></td></tr></table></figure>
<h4 id="3-修改侧边栏链接"><a href="#3-修改侧边栏链接" class="headerlink" title="3.修改侧边栏链接"></a>3.修改侧边栏链接</h4><p>链接放置在 social 字段下，一行一个链接。其键值格式是 显示文本: 链接地址</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="attribute">social</span>:</div><div class="line">  #<span class="attribute">LinkLabel</span>: Link</div><div class="line">  <span class="attribute">GitHub</span>: <span class="attribute">https</span>:<span class="comment">//github.com/jamfliu</span></div><div class="line">  微博: <span class="attribute">http</span>:<span class="comment">//weibo.com/jamfliu</span></div><div class="line">  豆瓣: <span class="attribute">http</span>:<span class="comment">//douban.com/people/jamfliu</span></div><div class="line">  知乎: <span class="attribute">http</span>:<span class="comment">//www.zhihu.com/people/jamfliu</span></div></pre></td></tr></table></figure>
<h4 id="4-设置头像和site的favicon"><a href="#4-设置头像和site的favicon" class="headerlink" title="4.设置头像和site的favicon"></a>4.设置头像和site的favicon</h4><p>  修改字段 avatar， 值设置成头像的链接地址。其中，头像的链接地址可以是：</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">avatar:</span> images/lzf.png</div></pre></td></tr></table></figure>
<p>下面是设置favicon。</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">favicon:</span> images/lzffavicon.ico</div></pre></td></tr></table></figure>
<h3 id="4-2-我的第三方插件定制的情况："><a href="#4-2-我的第三方插件定制的情况：" class="headerlink" title="4.2 我的第三方插件定制的情况："></a>4.2 我的第三方插件定制的情况：</h3><h4 id="1-统计阅读量"><a href="#1-统计阅读量" class="headerlink" title="1.统计阅读量"></a>1.统计阅读量</h4><p>　　原本我是申请了leancloud的appId和appKey，后面发现不蒜子统计中也包含了阅读量，所以我就配置但没用。</p>
<p> <strong>方式一</strong>：使用leancloud<br>  首先申请它的AppID以及AppKey，在next的主题配置文件中找到leancloud，然后配置，主要是配置<strong>enable: true</strong>,然后填入你的AppID以及AppKey</p>
<p> <strong>方式二</strong>：使用不蒜子统计中的page_pv项<br>    直接使用<strong>enable: true</strong>即可</p>
<h4 id="2-增加评论功能"><a href="#2-增加评论功能" class="headerlink" title="2.增加评论功能"></a>2.增加评论功能</h4><p> 之前使用的多说已经要停了，所以改用了DISQUS，但是发现在国内的网络加载它的js老超时，果断换了一个，本想还网易云跟帖的，但是注册老有问题，而且支持的社交少。选了韩国的来必力，还算挺好用的，注册都不麻烦，就是获取验证码的时候是韩文有点恶心，不是全程中文的。</p>
<p>   申请<a href="https://livere.com/" target="_blank" rel="external">来必力</a>的你自己的安装代码，注册完取data-uid里面的代码。然后设置livere_uid</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">livere_uid:</span> MTAyMC8y11222Y3NS800000</div></pre></td></tr></table></figure>
<h4 id="3-统计自己网站的流量情况"><a href="#3-统计自己网站的流量情况" class="headerlink" title="3.统计自己网站的流量情况"></a>3.统计自己网站的流量情况</h4><p><strong>  1) 不蒜子统计 </strong></p>
<p>这个不需要去注册，打开即可可以统计本站点的总的pv和uv量，也可以统计单个页面的pv量。</p>
<p>编辑<font style="background-color:#9954bb;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
    text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">主题配置文件</font>中的busuanzi_count的配置项。<br> 当”<strong>enable: true</strong>“时，代表开启全局开关。若site_uv、site_pv、page_pv的值均为false时，不蒜子仅作记录而不会在页面上显示。</p>
<p><strong>  2) 百度统计 </strong></p>
<p>为了后续方便分析，增加了百度统计，使用了百度统计，并不会给网站速度带慢的情况。</p>
<p>申请你的自己的错误码，然后设置”<strong>baidu_analytics</strong>“为你自己的脚本ID即可</p>
<h4 id="4-增加搜索功能-即站内搜索"><a href="#4-增加搜索功能-即站内搜索" class="headerlink" title="4.增加搜索功能,即站内搜索"></a>4.增加搜索功能,即站内搜索</h4><p> NexT主题支持集成 Swiftype、 微搜索、Local Search 和 Algolia,Swiftype和Algolia都只有一段时间的试用期，可以采用Hexo提供的Local Search,原理是通过hexo-generator-search插件在本地生成一个search.xml文件，搜索的时候从这个文件中根据关键字检索出相应的链接。</p>
<p><strong> 1） 安装 hexo-generator-searchdb，在站点的根目录下执行以下命令</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> hexo-generator-searchdb <span class="comment">--save</span></div><div class="line">npm <span class="keyword">install</span> hexo-generator-<span class="keyword">search</span> <span class="comment">--save</span></div></pre></td></tr></table></figure>
<p>现在官方文档漏了下面一条语句，会导致生成不了search.xml</p>
<p><strong> 2） 在<font style="background-color:#2780e3;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
    text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">站点配置文件</font>末尾中新增下面的配置项</strong></p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">search:</span></div><div class="line"><span class="symbol">  path:</span> search.xml</div><div class="line"><span class="symbol">  field:</span> post</div><div class="line"><span class="symbol">  format:</span> html</div><div class="line"><span class="symbol">  limit:</span> <span class="number">10000</span></div></pre></td></tr></table></figure>
<p><strong> 3） 在<font style="background-color:#9954bb;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
    text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">主题配置文件</font>启动本地搜索</strong></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="attr">local_search:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">true</span></div></pre></td></tr></table></figure>
<p>【过程中遇到的问题】：查不了，发现是无生成search.xml<br> 也没有报错，似乎是node的版本不支持，我通过 npm upgrade和更新brew upgrade node[我的是mac os]来解决</p>
<h4 id="5-内容分享功能"><a href="#5-内容分享功能" class="headerlink" title="5.内容分享功能"></a>5.内容分享功能</h4><p>　　百度分享和JiaThis都不支持https，我已经关闭了，本地使用了JiaThis可以，如需要配置也很简单。<br>　　编辑 <font style="background-color:#9954bb;display: inline;padding: .2em .6em .3em;font-size: 85%;font-weight: 700;line-height: 1;color: #fff;
    text-align: center; white-space: nowrap;vertical-align: baseline;border-radius: .25em;">主题配置文件</font>， 添加/修改字段 jiathis，值为 true。</p>
<h4 id="6-字数统计功能"><a href="#6-字数统计功能" class="headerlink" title="6.字数统计功能"></a>6.字数统计功能</h4><p><strong> 1） 安装hexo-wordcount，在站点的根目录下执行以下命令</strong></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm <span class="keyword">install</span> hexo-wordcount <span class="comment">--save</span></div></pre></td></tr></table></figure>
<p> <strong>2）修改配置文件</strong></p>
<p> 方式一：采用默认配置的方式：</p>
 <figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="attr">post_wordcount:</span></div><div class="line"><span class="attr"> item_text:</span> <span class="literal">false</span></div><div class="line"><span class="attr"> wordcount:</span> <span class="literal">true</span></div><div class="line"><span class="attr"> min2read:</span> <span class="literal">true</span></div></pre></td></tr></table></figure>
<p> 方式二：自定义的方式</p>
<p>  ①为了方便地开启和关闭字数统计功能，我们需要在配置文件（站点配置文件或主题配置文件均可）中添加一个键值对：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># 开启字数统计</span></div><div class="line"><span class="attr">word_count:</span> <span class="literal">true</span></div></pre></td></tr></table></figure>
<p> ②修改主题的swig布局，themes/next/layout/_macro/post.swig**</p>
<p>  (看了这个swig，似乎默认支持的，虽然字段和结构不一样，但是我怎么配都不成功，所以新增了)</p>
<figure class="highlight django"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="xml"></span><span class="template-tag">&#123;% <span class="name"><span class="name">if</span></span> theme.word_count %&#125;</span><span class="xml"></span></div><div class="line">  <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"post-letters-count"</span>&gt;</span></div><div class="line">    &amp;nbsp; | &amp;nbsp;</div><div class="line">    <span class="tag">&lt;<span class="name">span</span>&gt;</span><span class="template-variable">&#123;&#123; wordcount(post.content) &#125;&#125;</span><span class="xml"> 字<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></div><div class="line">  <span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line"><span class="template-tag">&#123;% <span class="name"><span class="name">endif</span></span> %&#125;</span><span class="xml"></span></div></pre></td></tr></table></figure>
<h3 id="4-3-出现过的问题汇总："><a href="#4-3-出现过的问题汇总：" class="headerlink" title="4.3 出现过的问题汇总："></a>4.3 出现过的问题汇总：</h3><p>出现解决较久的问题有：</p>
<h4 id="1-启动的时候发起请求的时候报错ENOENT-no-such-file-or-directory"><a href="#1-启动的时候发起请求的时候报错ENOENT-no-such-file-or-directory" class="headerlink" title="1.启动的时候发起请求的时候报错ENOENT, no such file or directory "></a><strong>1.启动的时候发起请求的时候报错ENOENT, no such file or directory </strong></h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">INFO  Hexo is running at http:<span class="comment">//0.0.0.0:4000/. Press Ctrl+C to stop.</span></div><div class="line">Unhandled rejection Error: ENOENT, no such file or directory <span class="string">'/Users/liuzhenfeng/git/blog_hexo/themes/next/layout/_scripts/schemes/.swig'</span></div><div class="line">    at Error (native)</div><div class="line">    at Object<span class="selector-class">.fs</span><span class="selector-class">.openSync</span> (fs<span class="selector-class">.js</span>:<span class="number">500</span>:<span class="number">18</span>)</div><div class="line">    at Object<span class="selector-class">.fs</span><span class="selector-class">.readFileSync</span> (fs<span class="selector-class">.js</span>:<span class="number">352</span>:<span class="number">15</span>)</div><div class="line">    at Object<span class="selector-class">.ret</span><span class="selector-class">.load</span> (/Users/liuzhenfeng/git/blog_hexo/node_modules/hexo/node_modules/swig/lib/loaders/filesystem<span class="selector-class">.js</span>:<span class="number">55</span>:<span class="number">15</span>)</div><div class="line">    ....</div><div class="line">    at process._tickCallback (node<span class="selector-class">.js</span>:<span class="number">355</span>:<span class="number">11</span>)</div></pre></td></tr></table></figure>
<h5 id="gt-原因："><a href="#gt-原因：" class="headerlink" title="==&gt;原因："></a><strong>==&gt;原因：</strong></h5><p>  配置项的冒号后面无空格，比如错误的配置：（后面少了一个空格）</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">AppID:</span>XXX</div></pre></td></tr></table></figure>
<p>正确的配置是冒号后面加空格，如下：</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="symbol">AppID:</span> XXX</div></pre></td></tr></table></figure>
<h4 id="2-执行-“npm-install-hexo-generator-searchdb-–save“时，报如下的错误"><a href="#2-执行-“npm-install-hexo-generator-searchdb-–save“时，报如下的错误" class="headerlink" title="2.执行 “npm install hexo-generator-searchdb –save“时，报如下的错误"></a>2.执行 “<strong>npm install hexo-generator-searchdb –save</strong>“时，报如下的错误</h4><figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">npm WARN engine hexo-generator-searchdb<span class="symbol">@1</span><span class="number">.0</span><span class="number">.7</span>: wanted: &#123;<span class="string">"node"</span>:<span class="string">"&gt;= 4.2.2"</span>&#125; (current: &#123;<span class="string">"node"</span>:<span class="string">"0.12.7"</span>,<span class="string">"npm"</span>:<span class="string">"2.11.3"</span>&#125;)</div><div class="line">hexo-generator-searchdb<span class="symbol">@1</span><span class="number">.0</span><span class="number">.7</span> node_modules/hexo-generator-searchdb</div><div class="line">├── utils-merge<span class="symbol">@1</span><span class="number">.0</span><span class="number">.0</span></div><div class="line">├── striptags<span class="symbol">@3</span><span class="number">.0</span><span class="number">.1</span></div><div class="line">└── ejs<span class="symbol">@1</span><span class="number">.0</span><span class="number">.0</span></div></pre></td></tr></table></figure>
<p>我通过 npm upgrade和更新brew upgrade node[我的是mac os]来解决，发现都是失败了，后来确定node是指nodejs就找了nodejs的更新方式：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span><span class="bash">第一步：首先安装n模块：</span></div><div class="line">npm install -g n</div><div class="line"><span class="meta">#</span><span class="bash">第二步：升级node.js到最新稳定版</span></div><div class="line">n stable</div></pre></td></tr></table></figure>
<p>网上说这种解决办法有问题，所以要卸载干净之后重装</p>
<figure class="highlight crystal"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">brew uninstall node  <span class="comment">#卸载，但是重新安装是会提示卸载不干净，需要额外删除一些</span></div><div class="line"><span class="comment">#以下是额外删除，主要根据错误提示</span></div><div class="line">rm -f /usr/local/<span class="class"><span class="keyword">lib</span>/<span class="title">dtrace</span>/<span class="title">node</span>.<span class="title">d</span></span></div><div class="line">rm -f /usr/local/share/systemtap/tapset/node.stp</div><div class="line">rm /usr/local/share/man/man1/node.<span class="number">1</span></div><div class="line">rm -rf /usr/local/<span class="class"><span class="keyword">lib</span>/<span class="title">node_modules</span></span></div></pre></td></tr></table></figure>
<h4 id="3-执行hexo操作时，报ERROR-Script-load-failed-exturl-js"><a href="#3-执行hexo操作时，报ERROR-Script-load-failed-exturl-js" class="headerlink" title="3.执行hexo操作时，报ERROR Script load failed(exturl.js)"></a>3.执行hexo操作时，报ERROR Script load failed(exturl.js)</h4><p>情况：执行hexo操作时，报ERROR Script load failed: themes/next/scripts/tags/exturl.js<br>解决办法：重新安装hexo-util模块<br><figure class="highlight q"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm install -- <span class="built_in">save</span>-<span class="built_in">dev</span> hexo-util</div></pre></td></tr></table></figure></p>
<h4 id="4-报错：ERROR-Plugin-load-failed-hexo-git-backup"><a href="#4-报错：ERROR-Plugin-load-failed-hexo-git-backup" class="headerlink" title="4.报错：ERROR Plugin load failed: hexo-git-backup"></a>4.报错：ERROR Plugin load failed: hexo-git-backup</h4><p>解决办法：重新安装hexo-git-backup模块<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ npm <span class="keyword">install</span> hexo-git-<span class="keyword">backup</span> <span class="comment">--save</span></div></pre></td></tr></table></figure></p>
<h4 id="5-报错：ERROR-Deployer-not-found-git"><a href="#5-报错：ERROR-Deployer-not-found-git" class="headerlink" title="5.报错：ERROR Deployer not found: git"></a>5.报错：ERROR Deployer not found: git</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="meta">$</span><span class="bash"> npm install hexo-deployer-git --save</span></div></pre></td></tr></table></figure>
<h4 id="6-报错：Template-render-error-unknown-path"><a href="#6-报错：Template-render-error-unknown-path" class="headerlink" title="6.报错：Template render error: (unknown path)"></a>6.报错：Template render error: (unknown path)</h4><figure class="highlight gauss"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">FATAL Something's wrong. Maybe you can find the solution here: http:<span class="comment">//hexo.io/docs/troubleshooting.html</span></div><div class="line">Template render <span class="built_in">error</span>: (unknown path) [<span class="keyword">Line</span> <span class="number">55</span>, Column <span class="number">232</span>]</div><div class="line">  unknown block tag: <span class="keyword">endif</span></div><div class="line">    at Object.exports.prettifyError (/Users/liuzhenfeng/git/blog_hexo/node_modules/nunjucks/src/<span class="keyword">lib</span>.js:<span class="number">34</span>:<span class="number">15</span>)</div></pre></td></tr></table></figure>
<p>报这个错误的时候，比较容易确定是我心中md文件出问题了，但是具体是什么错误，一头雾水，严重影响到我的进度，m这个错误所指向的js我是没接触过的。最终我用了打印md文件前多少行，来确定第几行出错了。</p>
<h5 id="gt-原因：-1"><a href="#gt-原因：-1" class="headerlink" title="==&gt;原因："></a><strong>==&gt;原因：</strong></h5><p>在字数统计功能的说明修改swig文件的的代码不小心动了一个字符，把那个统计文章字数的那段代码的”{“ –&gt; “&gt;”导致的报错 。改回去即可修复。</p>
<p><br></p>
<p><em>PS:有任何关于的问题，欢迎来评论讨论交流。</em></p>
<h2 id="五、参考网站"><a href="#五、参考网站" class="headerlink" title="五、参考网站"></a>五、参考网站</h2><ol>
<li><a href="https://hexo.io/zh-cn/" target="_blank" rel="external">Hexo的官方文档</a></li>
<li><a href="http://theme-next.iissnan.com" target="_blank" rel="external">NexT的官方文档</a></li>
<li><a href="https://eason-yang.com/2016/11/05/add-word-count-to-hexo-next/" target="_blank" rel="external">为Hexo NexT主题添加字数统计功能</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      对Hexo的安装简单介绍，并且详细介绍我安装Next主题安装以及遇到的问题
    
    </summary>
    
      <category term="随笔" scheme="http://jamfliu.github.io/categories/%E9%9A%8F%E7%AC%94/"/>
    
    
      <category term="hexo" scheme="http://jamfliu.github.io/tags/hexo/"/>
    
      <category term="next" scheme="http://jamfliu.github.io/tags/next/"/>
    
      <category term="how" scheme="http://jamfliu.github.io/tags/how/"/>
    
      <category term="第三方插件" scheme="http://jamfliu.github.io/tags/%E7%AC%AC%E4%B8%89%E6%96%B9%E6%8F%92%E4%BB%B6/"/>
    
  </entry>
  
  <entry>
    <title>［转］如何使用 Jacman 主题</title>
    <link href="http://jamfliu.github.io/2015/07/29/how-to-use-jacman/"/>
    <id>http://jamfliu.github.io/2015/07/29/how-to-use-jacman/</id>
    <published>2015-07-29T01:58:17.000Z</published>
    <updated>2017-05-19T04:11:53.000Z</updated>
    
    <content type="html"><![CDATA[<blockquote>
<p>Jacman 是一款扁平化，有着响应式设计的 Hexo 主题。本站正式使用了 Jacman 主题。Jacman 基于 Pacman 主题修改而来，而今已有很多特性与原主题不同。你可以前往本站和 Demo 预览更多关于本主题的更多效果。如果你有任何问题或意见欢迎到 GitHub 发表 issue。</p>
</blockquote>
<h2 id="主题介绍"><a href="#主题介绍" class="headerlink" title="主题介绍"></a>主题介绍</h2><p><a href="https://github.com/wuchong/jacman" target="_blank" rel="external">Jacman</a> 是一款扁平化，有着响应式设计的 <a href="http://http://hexo.io/" target="_blank" rel="external">Hexo</a> 主题。本站正式使用了 Jacman 主题。Jacman 基于 <a href="https://github.com/A-limon/pacman" target="_blank" rel="external">Pacman</a> 主题修改而来，目前已有很多特性与原主题不同。你可以前往 <a href="http://wuchong.me" target="_blank" rel="external">本站</a> 和 <a href="http://wuchong.me/jacman" target="_blank" rel="external">Demo</a> 预览更多关于本主题的更多效果。如果你有任何问题或意见欢迎到 GitHub 发表 <a href="https://github.com/wuchong/jacman/issues" target="_blank" rel="external">issue</a>。</p>
<p>距离当初我把 Jacman 开源至今已有半年零一周了，在这半年里也一直保持着对 Jacman 的更新。看到很多人用这款主题，fork&amp;star 数也越来越好看，我也更有动力继续完善 Jacman。Jacman 自然还有很多改进空间，首先是文档问题，有许多人通过博客、微博、QQ 询问我有关主题的问题，我也意识到之前写的帮助手册可读性太差。正好趁着这次 Jacman 大更新，写篇更详尽、readable 的手册。</p>
<h2 id="安装指南"><a href="#安装指南" class="headerlink" title="安装指南"></a>安装指南</h2><h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>在博客根目录下执行如下命令。<br><figure class="highlight crmsh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ git <span class="keyword">clone</span> <span class="title">https</span>://github.com/wuchong/jacman.git themes/jacman</div></pre></td></tr></table></figure></p>
<p>Jacman 需要安装 Hexo 2.7 及以上版本，请先升级您的 Hexo 程序，再启用此主题。</p>
<h3 id="启用"><a href="#启用" class="headerlink" title="启用"></a>启用</h3><p>修改你的博客根目录下的<code>_config.yml</code>配置文件中的<code>theme</code>属性，将其设置为<code>jacman</code>。同时建议设置<code>stylus</code>属性中的<code>compress</code>值为true，会自动压缩 CSS 文件，hexo默认配置中不包含这一项，建议开启。如下。<br><figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attr">theme:</span> <span class="string">jacman</span></div><div class="line"><span class="attr">stylus:</span></div><div class="line"><span class="attr">  compress:</span> <span class="literal">true</span></div></pre></td></tr></table></figure></p>
<h3 id="更新"><a href="#更新" class="headerlink" title="更新"></a>更新</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> themes/jacman</div><div class="line">git pull origin master</div></pre></td></tr></table></figure>
<p>请先备份您主题目录下的 <code>_config.yml</code> 文件后再升级。</p>
<a id="more"></a>
<h2 id="配置指南"><a href="#配置指南" class="headerlink" title="配置指南"></a>配置指南</h2><p>Jacman 主题提供了丰富的配置属性，可以实现您对主题的自定义。配置文件<code>_config.yml</code>位于主题根目录下。本次更新对配置文件进行了较大调整，如您之前就使用了 Jacman，也需要您根据以下指南进行相应的修改。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div></pre></td><td class="code"><pre><div class="line"><span class="comment">##### 菜单</span></div><div class="line"><span class="attr">menu:</span></div><div class="line">  <span class="string">主页:</span> <span class="string">/</span></div><div class="line">  <span class="string">归档:</span> <span class="string">/archives</span></div><div class="line">  <span class="string">关于:</span> <span class="string">/about</span></div><div class="line"></div><div class="line"><span class="comment">#### 控件</span></div><div class="line"><span class="attr">widgets:</span> </div><div class="line"><span class="bullet">-</span> <span class="string">category</span></div><div class="line"><span class="bullet">-</span> <span class="string">tag</span></div><div class="line"><span class="bullet">-</span> <span class="string">links</span></div><div class="line"><span class="bullet">-</span> <span class="string">rss</span></div><div class="line"></div><div class="line"><span class="comment">#### RSS </span></div><div class="line"><span class="attr">rss:</span> <span class="string">/atom.xml</span> </div><div class="line"></div><div class="line"><span class="comment">#### 图片相关</span></div><div class="line"><span class="attr">imglogo:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">true</span>               <span class="comment">## 是否显示网站 logo</span></div><div class="line"><span class="attr">  src:</span> <span class="string">img/logo.png</span>        </div><div class="line"><span class="attr">favicon:</span> <span class="string">img/favicon.ico</span>     <span class="comment">## 网站图标    </span></div><div class="line"><span class="attr">apple_icon:</span> <span class="string">img/jacman.jpg</span>   <span class="comment">## 苹果设备上的图标，背景不要透明</span></div><div class="line"><span class="attr">author_img:</span> <span class="string">img/author.jpg</span>   <span class="comment">## 网站底部的博主头像</span></div><div class="line"><span class="attr">banner_img:</span> <span class="string">img/banner.jpg</span>   <span class="comment">## 博客顶部的图片</span></div><div class="line"></div><div class="line"><span class="comment">### 主题颜色</span></div><div class="line"><span class="attr">theme_color:</span></div><div class="line"><span class="attr">    theme:</span> <span class="string">'#2ca6cb'</span>    <span class="comment">##默认主题颜色为蓝色</span></div><div class="line"></div><div class="line"><span class="attr">close_aside:</span> <span class="literal">false</span>      <span class="comment">##是否在文章页面自动关闭侧边栏</span></div><div class="line"></div><div class="line"><span class="comment">#### 首页相关</span></div><div class="line"><span class="attr">index:</span></div><div class="line"><span class="attr">  expand:</span> <span class="literal">true</span>              <span class="comment">## 首页文章是否展开。默认为展开式，显示 Read More。</span></div><div class="line"><span class="attr">  excerpt_link:</span> <span class="string">Read</span> <span class="string">More</span>    </div><div class="line"></div><div class="line"><span class="comment">#### 作者信息</span></div><div class="line"><span class="attr">author:</span></div><div class="line"><span class="attr">  intro_line1:</span>  <span class="string">"Hello ,I'm Larry Page in Google."</span>    <span class="comment">## 网站底部的个人介绍</span></div><div class="line"><span class="attr">  intro_line2:</span>  <span class="string">"This is my blog,believe it or not."</span>  </div><div class="line"><span class="attr">  weibo_verifier:</span>  <span class="comment">## 微博秀的验证码</span></div><div class="line"><span class="attr">  tsina:</span>           <span class="comment">## 用于微博秀和微博分享</span></div><div class="line"><span class="attr">  weibo:</span>           <span class="comment">## 用于显示网站底部社交按钮，下同</span></div><div class="line"><span class="attr">  douban:</span>         </div><div class="line"><span class="attr">  zhihu:</span>  </div><div class="line"><span class="attr">  email:</span>     </div><div class="line"><span class="attr">  twitter:</span>   </div><div class="line"><span class="attr">  github:</span>     </div><div class="line"><span class="attr">  facebook:</span> </div><div class="line"><span class="attr">  linkedin:</span>   </div><div class="line"><span class="attr">  google_plus:</span>   </div><div class="line"><span class="attr">  stackoverflow:</span>  </div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">#### 目录</span></div><div class="line"><span class="attr">toc:</span></div><div class="line"><span class="attr">  article:</span> <span class="literal">true</span>   <span class="comment">## 是否在文章中显示目录</span></div><div class="line"><span class="attr">  aside:</span> <span class="literal">true</span>     <span class="comment">## 是否在侧边栏显示目录</span></div><div class="line"></div><div class="line"><span class="comment">#### 友情链接</span></div><div class="line"><span class="attr">links:</span></div><div class="line">  <span class="string">码农圈:</span> <span class="attr">https://coderq.com,一个面向程序员交流分享的新一代社区</span></div><div class="line">  <span class="string">Jark's</span> <span class="attr">Blog:</span> <span class="attr">http://wuchong.me</span></div><div class="line">  </div><div class="line"><span class="comment">#### 评论</span></div><div class="line"><span class="attr">duoshuo_shortname:</span> </div><div class="line"><span class="attr">disqus_shortname:</span>  </div><div class="line"></div><div class="line"><span class="comment">#### 分享按钮</span></div><div class="line"><span class="attr">jiathis:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">false</span>   <span class="comment">## 默认使用主题内建分享</span></div><div class="line"><span class="attr">  id:</span>    </div><div class="line"><span class="attr">  tsina:</span> </div><div class="line">  </div><div class="line"><span class="comment">#### 网站统计</span></div><div class="line"><span class="attr">google_analytics:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  id:</span>            <span class="comment">## google analytics ID.</span></div><div class="line"><span class="attr">  site:</span>          <span class="comment">## 网站地址.</span></div><div class="line"><span class="attr">baidu_tongji:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  sitecode:</span>      <span class="comment">## 百度统计站点特征码</span></div><div class="line"><span class="attr">cnzz_tongji:</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  siteid:</span>        <span class="comment">## CNZZ统计站点ID</span></div><div class="line"></div><div class="line"><span class="comment">#### 杂项</span></div><div class="line"><span class="attr">ShowCustomFont:</span> <span class="literal">true</span>  </div><div class="line"><span class="attr">fancybox:</span> <span class="literal">true</span>        </div><div class="line"><span class="attr">totop:</span> <span class="literal">true</span>           </div><div class="line"></div><div class="line"><span class="comment">#### 自定义搜索</span></div><div class="line"><span class="attr">google_cse:</span> </div><div class="line"><span class="attr">  enable:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  cx:</span>  </div><div class="line"><span class="attr">baidu_search:</span>    </div><div class="line"><span class="attr">  enable:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  id:</span>   </div><div class="line"><span class="attr">  site:</span> <span class="attr">http://zhannei.baidu.com/cse/search</span> </div><div class="line"><span class="attr">tinysou_search:</span>     <span class="comment">## http://tinysou.com/</span></div><div class="line"><span class="attr">  enable:</span> <span class="literal">false</span></div><div class="line"><span class="attr">  id:</span> <span class="string">"4ac092ad8d749fdc6293"</span></div></pre></td></tr></table></figure>
<p>###属性功能</p>
<ul>
<li><strong>菜单 menu</strong><br>默认没有启用 <code>/tags</code> 和 <code>/categories</code>页面，如果需要启用请在博客目录下的<code>source</code>文件夹中分别建立<code>tags</code> 和 <code>categories</code>文件夹每个文件夹中分别包含一个<code>index.md</code>文件。内容为：</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attr">layout:</span> <span class="string">tags</span> <span class="string">(或categories)</span></div><div class="line"><span class="attr">title:</span> <span class="string">tags</span> <span class="string">(或categories)</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure>
<p>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;因为主题中已经内置了这两个页面的模板，所以他们会被正确的解析出来。</p>
<ul>
<li><p><strong>控件 widgets</strong><br>提供了7种小工具。包括标签、标签云、分类、归档、RSS、友情链接、微博秀。</p>
<p><strong>友情链接</strong>：友情链接的网址添加可以在<code>links</code>属性下添加。</p>
<p><strong>微博秀</strong>：需要注意的是，如果要启用微博秀，您必须填上<code>author</code>属性下<code>tsina</code>和<code>weibo_verifier</code>的值，前者是您微博ID，后者是您微博秀的验证码，访问 <a href="http://app.weibo.com/tool/weiboshow" target="_blank" rel="external">http://app.weibo.com/tool/weiboshow</a> 在如下图位置，可以获得您的 verifier，如：我的是<code>b3593ceb</code>。<br><img src="http://ww1.sinaimg.cn/large/81b78497jw1emegd6b0ytj209204pweu.jpg" alt=""></p>
<p>如果要关闭侧边栏，将<code>close_aside</code>置为<code>true</code>，就会在博文页面自动关闭侧边栏。</p>
</li>
<li><p><strong>图片相关 Image</strong><br>本主题可以设置网站相关图片，例如网站图标（<code>favicon</code>）、网站logo（<code>imglogo</code>）、作者头像（<code>author_img</code>）。建议启用网站logo，格式建议为<code>.svg</code>或<code>.png</code>格式。同时建议提供配套的 favicon 以及在苹果设备上的图标<code>apple_icon</code>（背景不要透明）。</p>
</li>
<li><p><strong>首页显示模式 Index</strong><br>目前首页的显示模式支持两种，一种是原先的卡片式（前往 <a href="http://wuchong.me/jacman" target="_blank" rel="external">Demo</a> 预览），另一种是类似官方主题的文章展开式（<a href="http://wuchong.me" target="_blank" rel="external">本站</a>即采用的这种）。两者各有优劣，前者首页加载速度更快，后者文章内容更能吸引读者。主题默认采用后一种展开式，如需开启第一种卡片式，请设置<code>index</code>属性下的<code>expand: false</code>。</p>
<p>卡片式的文章摘要是截取文章内容的前140个字，也可以自己总结<code>description</code>并将其放在开头的<code>front-matter</code>中。展开式的文章摘要就是使用<code>&lt;!-- more --&gt;</code>截取了。</p>
</li>
<li><p><strong>作者信息 author</strong><br>作者信息，建议尽量填写完整。其中<code>tsina</code>是你的新浪微博ID，不同于用户名或微博主页地址。启用这个属性后，其他用户在微博上分享你文章的同时会自动@你。同时它和<code>weibo_verifier</code>一起作用生成微博秀。<code>intro_line1</code>和<code>intro_line2</code>是网站底部的个人介绍。<code>weibo</code>、<code>twitter</code>、<code>facebook</code>等是用来显示网站右下角的社交按钮的，如下图所示。<br><img src="http://ww4.sinaimg.cn/large/81b78497jw1emgscr3575j2078050jrc.jpg" alt=""></p>
</li>
<li><p><strong>目录 toc</strong><br>是否启用在文章中或侧边栏中的目录功能。二者可以都为<code>true</code>或都为<code>false</code>。同时，如果你希望在特定的某一篇文章中关闭目录功能你可以在文章文件开头中的<code>front-matter</code>中加上一行<code>toc: false</code>。如果希望在某一篇文章中关闭目录自动编号功能你可以在文章文件开头的<code>front-matter</code>中加上一行<code>list_number: false</code>。另外 hexo 2.5.2 开始支持中文目录，想获得更好的体验请升级你的 Hexo 版本。</p>
</li>
<li><p><strong>评论 comments</strong><br>填写<code>duoshuo_shortname</code><a href="http://duoshuo.com/" target="_blank" rel="external">多说</a>的用户名，启用多说评论系统。在大陆地区更好用的评论系统。</p>
<p>填写<code>disqus_shortname</code><a href="http://disqus.com/" target="_blank" rel="external">disqus</a> 的用户名，启用 disqus 评论系统。国际上更广泛使用的评论系统。设置博客根目录下的<code>_config.yml</code>文件中的<code>disqus_shortname</code>同样也能开启该功能。</p>
</li>
<li><p><strong>加网分享 jiathis</strong><br><a href="http://www.jiathis.com/" target="_blank" rel="external">加网</a>分享系统。默认关闭，因为主题已经内置了原生的分享功能。</p>
</li>
<li><p><strong>网站统计 Analytics</strong><br><code>google_analytics</code>：Google Analytics追踪代码。请注意：Google Analytics已经升级到了Universal Analytics。请先前往后台升级你的Google Analytics版本后再启用追踪代码，更多信息请<a href="https://developers.google.com/analytics/devguides/collection/upgrade/?hl=zh_CN" target="_blank" rel="external">点击这里</a>了解。</p>
<p><code>baidu_tongji</code>：百度统计功能。需要填写站点特征码<code>sitecode</code>，在<a href="http://tongji.baidu.com/web/welcome/login" target="_blank" rel="external">官网</a>注册并配置站点后，获取特征码。特征码可以在「网站中心」-&gt; 「代码获取」中查看，如下图所示的<code>e6d1f421bbc9962127a50488f9ed37d1</code>，注意去掉前面的<code>3F</code>。<br><img src="http://ww4.sinaimg.cn/large/81b78497jw1emf4v6qf91j20kf07sq8v.jpg" alt=""></p>
<p><code>cnzz_tongji</code>：站长统计功能。需要填写站点ID<code>siteid</code>，同理在<a href="http://www.cnzz.com" target="_blank" rel="external">站长官网</a>注册并配置站点后获得。</p>
</li>
<li><p><strong>数学公式 mathjax</strong><br>主题支持写 LaTex 数学公式。只需要在文章文件开头的<code>front-matter</code>中，加上一行<code>mathjax: true</code>，即可在文中写 LaTex 公式。</p>
</li>
<li><p><strong>图片浏览 fancybox</strong><br>默认关闭，如果你使用 Hexo 经常发表 Gallery 类型的文章，那么请设置为<code>true</code>。</p>
</li>
<li><p><strong>返回顶部 totop</strong><br>右下角<code>返回顶部</code>按钮，默认开启。</p>
</li>
<li><p><strong>自定义字体 ShowCustomFont</strong><br>是否启用自定义字体，默认开启，主要用于显示网站底部的字体。如果你有一定前端基础可以修改 font.styl 替换为你喜欢的字体。</p>
</li>
<li><p><strong>自定义搜索 Search</strong><br><code>baidu_search</code>：如果开启百度站内搜索需要登录 <a href="http://zn.baidu.com/" target="_blank" rel="external">百度站内搜索</a>，配置好你的站点，并开启站内搜索获取搜索ID，另外<code>site</code>属性可以填默认值，也可以填自己做了CNAME的二级域名，更详细的可以阅读<a href="http://gengbiao.me/hexo/hexo%E6%B7%BB%E5%8A%A0%E7%99%BE%E5%BA%A6%E7%AB%99%E5%86%85%E6%90%9C%E7%B4%A2/" target="_blank" rel="external">这篇博客</a>了解。</p>
<p><code>google_cse</code>：如果开启谷歌自定义搜索需要先登录 <a href="https://www.google.com/cse/" target="_blank" rel="external">Google CSE</a>，配置好你的站点，并获得此自定义搜索的ID。此外你需要在博客目录下的<code>source</code>文件夹中建立<code>search</code>文件夹并包含一个<code>index.md</code>文件。内容为：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="attr">layout:</span> <span class="string">search</span></div><div class="line"><span class="attr">title:</span> <span class="string">search</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure>
<p><code>tiny_search</code>: 如果要开启<a href="http://tinysou.com/" target="_blank" rel="external">微搜索</a>，需要先注册一个帐号，配置一个Engine，将Engine的Key填入配置文件中的<code>id</code>即可。</p>
</li>
<li><p><strong>主题颜色更改 Theme Color</strong></p>
</li>
</ul>
<p>目前官方还未支持十六进制颜色与String值的转换，所以需要手动添加依赖包，该问题估计不久后会解决。</p>
<figure class="highlight autoit"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="meta">##在博客的目录下输入下面指令</span></div><div class="line">cd node_modules/hexo-renderer-stylus </div><div class="line">sudo npm install stylus<span class="symbol">@0</span><span class="number">.49</span><span class="number">.2</span>  <span class="meta">#根据系统文件的权限不同，有的不需要加sudo</span></div></pre></td></tr></table></figure>
<p>然后更改在主题目录下的<code>_config.yml</code>的 <code>theme_color</code> 下 <code>theme</code> 值。<br><figure class="highlight clean"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">### Theme Color </div><div class="line">theme_color:</div><div class="line">    theme: <span class="string">'#2ca6cb'</span>    ##the defaut theme color is blue</div></pre></td></tr></table></figure></p>
<p>##常见问题</p>
<ul>
<li><p><strong>Q：图片默认都是居左的，我怎么设置能让图片居中呢？</strong></p>
<blockquote>
<p>使用 <code>&lt;img src=&quot;&quot; style=&quot;display:block;margin:auto&quot;/&gt;</code>的HTML标签。</p>
</blockquote>
</li>
<li><p><strong>Q：如何建立一篇图片类文章（Gallery Post）？</strong></p>
<blockquote>
<p>使用<code>hexo new photo &quot;your titile&quot;</code>建立图片类文章，或者直接新建一个 Markdown 文件，将其<code>front-matter</code>修改为如下，即可看到主题为图片类文章提供的样式，<a href="http://wuchong.me/jacman/gallery" target="_blank" rel="external">Demo</a>。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">---</span></div><div class="line"><span class="attr">layout:</span> <span class="string">photo</span></div><div class="line"><span class="attr">title:</span> <span class="string">Gallery</span> <span class="string">Post</span></div><div class="line"><span class="attr">photos:</span></div><div class="line"><span class="attr">- http:</span><span class="string">//i.minus.com/ibobbTlfxZgITW.jpg</span></div><div class="line"><span class="attr">- http:</span><span class="string">//i.minus.com/iedpg90Y0exFS.jpg</span></div><div class="line"><span class="meta">---</span></div></pre></td></tr></table></figure>
</blockquote>
</li>
<li><p><strong>Q：我在配置文件中给某一项设置了值，但为什么总是看不到效果啊？</strong></p>
<blockquote>
<p><code>_config.yml</code>文件中的每个属性值前面必须留一个空格，建议在 Sublime/Notepad++ 中开启显示所有空格模式。另每篇文章的 <code>front-matter</code> 也要注意这个问题。</p>
</blockquote>
</li>
<li><p><strong>Q：如何建立自我介绍页面（About 页面）？</strong></p>
<blockquote>
<p>首先在主目录找到<code>_config.yml</code>，找到url添加<code>about_dir: about</code>到这个板块。然后在<code>/source</code>里面建立about文件夹。在about文件夹里建立index.md。编辑index.md就和发布其他的文章一样，格式都一样。</p>
</blockquote>
</li>
<li><p><strong>Q：怎么提意见和建议？</strong></p>
<blockquote>
<p>主题还在不断完善中，欢迎 <a href="https://github.com/wuchong/jacman/issues" target="_blank" rel="external">open issue</a> 来提建议，参与讨论。</p>
</blockquote>
</li>
<li><p><strong>Q：楼主我不喜欢你的配色，怎么换主题的颜色呢？</strong></p>
<blockquote>
<p>包括颜色在内的很多变量都在<code>jacman/source/css/_base/variable.styl</code>文件中，可以修改成你喜欢的。</p>
</blockquote>
</li>
<li><p><strong>Q：英语更能突显我的逼格，怎么换成英语？</strong></p>
<blockquote>
<p>配置你的博客根目录下的<code>_config.yml</code>，去掉<code>language: zh-CN</code>。</p>
</blockquote>
</li>
<li><p><strong>Q：为什么我修改了配置文件/发表了博文，解析出来的却是乱码呢？ </strong></p>
<blockquote>
<p>请将你的配置文件/markdown文件保存成 <code>UTF-8</code> 格式。</p>
</blockquote>
</li>
<li><p><strong>Q：为什么开启了微博秀后，显示是空白的，没有内容展示？ </strong></p>
<blockquote>
<p>每次修改参数都会这样，需要多刷新几次或者上传到服务器上就好了。</p>
</blockquote>
</li>
<li><p><strong>Q：博主 Jacman Demo 站点中文章的 md 源文件在哪能看到呢？ </strong></p>
<blockquote>
<p>我将 Demo 站点所有源文件放在了 Jacman 的 <a href="https://github.com/wuchong/jacman/tree/site" target="_blank" rel="external">site</a> 分支下。</p>
</blockquote>
</li>
</ul>
<p><em>PS:有任何关于 Hexo 的问题，欢迎来 <a href="https://coderq.com/c/tech/hexo" target="_blank" rel="external">Hexo 中文社区</a> 咨询。</em></p>
<p>###参考网站</p>
<ol>
<li><a href="http://wuchong.me/jacman/" target="_blank" rel="external">Jacman作者的blog</a></li>
</ol>
]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;Jacman 是一款扁平化，有着响应式设计的 Hexo 主题。本站正式使用了 Jacman 主题。Jacman 基于 Pacman 主题修改而来，而今已有很多特性与原主题不同。你可以前往本站和 Demo 预览更多关于本主题的更多效果。如果你有任何问题或意见欢迎到 GitHub 发表 issue。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;主题介绍&quot;&gt;&lt;a href=&quot;#主题介绍&quot; class=&quot;headerlink&quot; title=&quot;主题介绍&quot;&gt;&lt;/a&gt;主题介绍&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/wuchong/jacman&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Jacman&lt;/a&gt; 是一款扁平化，有着响应式设计的 &lt;a href=&quot;http://http://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Hexo&lt;/a&gt; 主题。本站正式使用了 Jacman 主题。Jacman 基于 &lt;a href=&quot;https://github.com/A-limon/pacman&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Pacman&lt;/a&gt; 主题修改而来，目前已有很多特性与原主题不同。你可以前往 &lt;a href=&quot;http://wuchong.me&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;本站&lt;/a&gt; 和 &lt;a href=&quot;http://wuchong.me/jacman&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;Demo&lt;/a&gt; 预览更多关于本主题的更多效果。如果你有任何问题或意见欢迎到 GitHub 发表 &lt;a href=&quot;https://github.com/wuchong/jacman/issues&quot; target=&quot;_blank&quot; rel=&quot;external&quot;&gt;issue&lt;/a&gt;。&lt;/p&gt;
&lt;p&gt;距离当初我把 Jacman 开源至今已有半年零一周了，在这半年里也一直保持着对 Jacman 的更新。看到很多人用这款主题，fork&amp;amp;star 数也越来越好看，我也更有动力继续完善 Jacman。Jacman 自然还有很多改进空间，首先是文档问题，有许多人通过博客、微博、QQ 询问我有关主题的问题，我也意识到之前写的帮助手册可读性太差。正好趁着这次 Jacman 大更新，写篇更详尽、readable 的手册。&lt;/p&gt;
&lt;h2 id=&quot;安装指南&quot;&gt;&lt;a href=&quot;#安装指南&quot; class=&quot;headerlink&quot; title=&quot;安装指南&quot;&gt;&lt;/a&gt;安装指南&lt;/h2&gt;&lt;h3 id=&quot;安装&quot;&gt;&lt;a href=&quot;#安装&quot; class=&quot;headerlink&quot; title=&quot;安装&quot;&gt;&lt;/a&gt;安装&lt;/h3&gt;&lt;p&gt;在博客根目录下执行如下命令。&lt;br&gt;&lt;figure class=&quot;highlight crmsh&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;$ git &lt;span class=&quot;keyword&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;title&quot;&gt;https&lt;/span&gt;://github.com/wuchong/jacman.git themes/jacman&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;p&gt;Jacman 需要安装 Hexo 2.7 及以上版本，请先升级您的 Hexo 程序，再启用此主题。&lt;/p&gt;
&lt;h3 id=&quot;启用&quot;&gt;&lt;a href=&quot;#启用&quot; class=&quot;headerlink&quot; title=&quot;启用&quot;&gt;&lt;/a&gt;启用&lt;/h3&gt;&lt;p&gt;修改你的博客根目录下的&lt;code&gt;_config.yml&lt;/code&gt;配置文件中的&lt;code&gt;theme&lt;/code&gt;属性，将其设置为&lt;code&gt;jacman&lt;/code&gt;。同时建议设置&lt;code&gt;stylus&lt;/code&gt;属性中的&lt;code&gt;compress&lt;/code&gt;值为true，会自动压缩 CSS 文件，hexo默认配置中不包含这一项，建议开启。如下。&lt;br&gt;&lt;figure class=&quot;highlight yaml&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;3&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;theme:&lt;/span&gt; &lt;span class=&quot;string&quot;&gt;jacman&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;stylus:&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;attr&quot;&gt;  compress:&lt;/span&gt; &lt;span class=&quot;literal&quot;&gt;true&lt;/span&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;&lt;/p&gt;
&lt;h3 id=&quot;更新&quot;&gt;&lt;a href=&quot;#更新&quot; class=&quot;headerlink&quot; title=&quot;更新&quot;&gt;&lt;/a&gt;更新&lt;/h3&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;1&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;2&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;div class=&quot;line&quot;&gt;&lt;span class=&quot;built_in&quot;&gt;cd&lt;/span&gt; themes/jacman&lt;/div&gt;&lt;div class=&quot;line&quot;&gt;git pull origin master&lt;/div&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
&lt;p&gt;请先备份您主题目录下的 &lt;code&gt;_config.yml&lt;/code&gt; 文件后再升级。&lt;/p&gt;
    
    </summary>
    
      <category term="Hexo" scheme="http://jamfliu.github.io/categories/Hexo/"/>
    
    
      <category term="Hexo" scheme="http://jamfliu.github.io/tags/Hexo/"/>
    
      <category term="Jacman" scheme="http://jamfliu.github.io/tags/Jacman/"/>
    
  </entry>
  
  <entry>
    <title>MarkDown的用法介绍</title>
    <link href="http://jamfliu.github.io/2015/07/28/markdown_usage_intraduce/"/>
    <id>http://jamfliu.github.io/2015/07/28/markdown_usage_intraduce/</id>
    <published>2015-07-27T16:53:31.000Z</published>
    <updated>2017-05-17T05:10:57.000Z</updated>
    
    <content type="html"><![CDATA[<p>#MarkDown的用法介绍</p>
<h2 id="Markdown简介"><a href="#Markdown简介" class="headerlink" title="Markdown简介"></a>Markdown简介</h2><blockquote>
<p>Markdown 是一种轻量级标记语言，它允许人们使用易读易写的纯文本格式编写文档，然后转换成格式丰富的HTML页面。    —— <a href="https://zh.wikipedia.org/wiki/Markdown" target="_blank" rel="external">维基百科</a></p>
</blockquote>
<p>正如您在阅读的这份文档，它使用简单的符号标识不同的标题，将某些文字标记为<strong>粗体</strong>或者<em>斜体</em>，创建一个<a href="http://www.example.com" target="_blank" rel="external">链接</a>或一个脚注[^demo]。下面列举了几个高级功能，更多语法请按<code>Cmd + /</code>查看帮助。 </p>
<h3 id="代码块"><a href="#代码块" class="headerlink" title="代码块"></a>代码块</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">import</span> sys</div><div class="line">ipMap = &#123;&#125;</div><div class="line">ipFilters = [<span class="string">"10."</span>, <span class="string">"172."</span>]</div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">isFiltered</span><span class="params">(inIp)</span>:</span></div><div class="line">    <span class="keyword">for</span> ip <span class="keyword">in</span> ipFilters:</div><div class="line">        <span class="keyword">if</span> inIp.startswith(ip):</div><div class="line">            <span class="keyword">return</span> <span class="keyword">True</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">False</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> line <span class="keyword">in</span> sys.stdin:</div><div class="line">    line = line.strip()</div><div class="line">    <span class="keyword">if</span> line:</div><div class="line">        words = line.split(<span class="string">":"</span>)</div><div class="line">        <span class="keyword">if</span> words <span class="keyword">and</span> len(words) &gt; <span class="number">1</span>:</div><div class="line">            <span class="keyword">if</span> isFiltered(words[<span class="number">1</span>]):</div><div class="line">                <span class="keyword">continue</span></div><div class="line">            <span class="keyword">elif</span> ipMap.get(words[<span class="number">1</span>]):</div><div class="line">                ipMap[words[<span class="number">1</span>]] += <span class="number">1</span></div><div class="line">            <span class="keyword">else</span>:</div><div class="line">                ipMap[words[<span class="number">1</span>]] = <span class="number">1</span></div><div class="line"></div><div class="line"><span class="keyword">for</span> (key, value) <span class="keyword">in</span> ipMap.items():</div><div class="line">    <span class="keyword">print</span> <span class="string">"%-16s %d"</span> % (key,value)</div></pre></td></tr></table></figure>
<h3 id="LaTeX-公式"><a href="#LaTeX-公式" class="headerlink" title="LaTeX 公式"></a>LaTeX 公式</h3><p>可以创建行内公式，例如 $\Gamma(n) = (n-1)!\quad\forall n\in\mathbb N$。或者块级公式：</p>
<p>$$    x = \dfrac{-b \pm \sqrt{b^2 - 4ac}}{2a} $$</p>
<h3 id="表格"><a href="#表格" class="headerlink" title="表格"></a>表格</h3><table>
<thead>
<tr>
<th style="text-align:left">Item</th>
<th style="text-align:right">Value</th>
<th style="text-align:center">Qty</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">Computer</td>
<td style="text-align:right">1600 USD</td>
<td style="text-align:center">5</td>
</tr>
<tr>
<td style="text-align:left">Phone</td>
<td style="text-align:right">12 USD</td>
<td style="text-align:center">12</td>
</tr>
<tr>
<td style="text-align:left">Pipe</td>
<td style="text-align:right">1 USD</td>
<td style="text-align:center">234</td>
</tr>
</tbody>
</table>
<h3 id="流程图"><a href="#流程图" class="headerlink" title="流程图"></a>流程图</h3><div id="flowchart-0" class="flow-chart"></div>

<p>以及时序图:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Alice-&gt;Bob: Hello Bob, how are you?</div><div class="line">Note right of Bob: Bob thinks</div><div class="line">Bob--&gt;Alice: I am good thanks!</div></pre></td></tr></table></figure>
<blockquote>
<p><strong>提示：</strong>想了解更多，请查看<strong>流程图</strong><a href="http://adrai.github.io/flowchart.js/" target="_blank" rel="external">语法</a>以及<strong>时序图</strong><a href="http://bramp.github.io/js-sequence-diagrams/" target="_blank" rel="external">语法</a>。</p>
</blockquote>
<h3 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h3><p>使用 <code>- [ ]</code> 和 <code>- [x]</code> 语法可以创建复选框，实现 todo-list 等功能。例如：</p>
<ul>
<li>[x] 已完成事项</li>
<li>[ ] 待办事项1</li>
<li>[ ] 待办事项2</li>
</ul>
<blockquote>
<p><strong>注意：</strong>目前支持尚不完全，在印象笔记中勾选复选框是无效、不能同步的，所以必须在<strong>马克飞象</strong>中修改 Markdown 原文才可生效。下个版本将会全面支持。</p>
</blockquote>
<h2 id="印象笔记相关"><a href="#印象笔记相关" class="headerlink" title="印象笔记相关"></a>印象笔记相关</h2><h3 id="笔记本和标签"><a href="#笔记本和标签" class="headerlink" title="笔记本和标签"></a>笔记本和标签</h3><p><strong>马克飞象</strong>增加了<code>@(笔记本)[标签A|标签B]</code>语法, 以选择笔记本和添加标签。 <strong>绑定账号后</strong>， 输入<code>(</code>自动会出现笔记本列表，请从中选择。</p>
<h3 id="笔记标题"><a href="#笔记标题" class="headerlink" title="笔记标题"></a>笔记标题</h3><p><strong>马克飞象</strong>会自动使用文档内出现的第一个标题作为笔记标题。例如本文，就是第一行的 <code>欢迎使用马克飞象</code>。</p>
<h3 id="快捷编辑"><a href="#快捷编辑" class="headerlink" title="快捷编辑"></a>快捷编辑</h3><p>保存在印象笔记中的笔记，右上角会有一个红色的编辑按钮，点击后会回到<strong>马克飞象</strong>中打开并编辑该笔记。</p>
<blockquote>
<p><strong>注意：</strong>目前用户在印象笔记中单方面做的任何修改，马克飞象是无法自动感知和更新的。所以请务必回到马克飞象编辑。</p>
</blockquote>
<h3 id="数据同步"><a href="#数据同步" class="headerlink" title="数据同步"></a>数据同步</h3><p><strong>马克飞象</strong>通过<strong>将Markdown原文以隐藏内容保存在笔记中</strong>的精妙设计，实现了对Markdown的存储和再次编辑。既解决了其他产品只是单向导出HTML的单薄，又规避了服务端存储Markdown带来的隐私安全问题。这样，服务端仅作为对印象笔记 API调用和数据转换之用。</p>
<blockquote>
<p><strong>隐私声明：用户所有的笔记数据，均保存在印象笔记中。马克飞象不存储用户的任何笔记数据。</strong></p>
</blockquote>
<h3 id="离线存储"><a href="#离线存储" class="headerlink" title="离线存储"></a>离线存储</h3><p><strong>马克飞象</strong>使用浏览器离线存储将内容实时保存在本地，不必担心网络断掉或浏览器崩溃。为了节省空间和避免冲突，已同步至印象笔记并且不再修改的笔记将删除部分本地缓存，不过依然可以随时通过<code>文档管理</code>打开。</p>
<blockquote>
<p><strong>注意：</strong>虽然浏览器存储大部分时候都比较可靠，但印象笔记作为专业云存储，更值得信赖。以防万一，<strong>请务必经常及时同步到印象笔记</strong>。</p>
</blockquote>
<h2 id="编辑器相关"><a href="#编辑器相关" class="headerlink" title="编辑器相关"></a>编辑器相关</h2><h3 id="设置"><a href="#设置" class="headerlink" title="设置"></a>设置</h3><p>右侧系统菜单（快捷键<code>Cmd + M</code>）的<code>设置</code>中，提供了界面字体、字号、自定义CSS、vim/emacs 键盘模式等高级选项。</p>
<h3 id="快捷键"><a href="#快捷键" class="headerlink" title="快捷键"></a>快捷键</h3><p>帮助    <code>Cmd + /</code><br>同步文档    <code>Cmd + S</code><br>创建文档    <code>Cmd + Opt + N</code><br>最大化编辑器    <code>Cmd + Enter</code><br>预览文档 <code>Cmd + Opt + Enter</code><br>文档管理    <code>Cmd + O</code><br>系统菜单    <code>Cmd + M</code> </p>
<p>加粗    <code>Cmd + B</code><br>插入图片    <code>Cmd + G</code><br>插入链接    <code>Cmd + L</code><br>提升标题    <code>Cmd + H</code></p>
<h2 id="关于收费"><a href="#关于收费" class="headerlink" title="关于收费"></a>关于收费</h2><p><strong>马克飞象</strong>为新用户提供 10 天的试用期，试用期过后需要<a href="maxiang.info/vip.html">续费</a>才能继续使用。未购买或者未及时续费，将不能同步新的笔记。之前保存过的笔记依然可以编辑。</p>
<h2 id="反馈与建议"><a href="#反馈与建议" class="headerlink" title="反馈与建议"></a>反馈与建议</h2><ul>
<li>微博：<a href="http://weibo.com/u/2788354117" target="_blank" rel="external">@马克飞象</a>，<a href="http://weibo.com/ggock" title="开发者个人账号" target="_blank" rel="external">@GGock</a></li>
<li>邮箱：<a href="&#109;&#x61;&#x69;&#x6c;&#x74;&#x6f;&#58;&#x68;&#x75;&#115;&#x74;&#x67;&#x6f;&#99;&#x6b;&#x40;&#103;&#109;&#97;&#105;&#x6c;&#x2e;&#99;&#x6f;&#109;">&#x68;&#x75;&#115;&#x74;&#x67;&#x6f;&#99;&#x6b;&#x40;&#103;&#109;&#97;&#105;&#x6c;&#x2e;&#99;&#x6f;&#109;</a></li>
</ul>
<hr>
<p>感谢阅读这份帮助文档。请点击右上角，绑定印象笔记账号，开启全新的记录与分享体验吧。</p>
<p>[^demo]: 这是一个示例脚注。请查阅 <a href="https://github.com/fletcher/MultiMarkdown/wiki/MultiMarkdown-Syntax-Guide#footnotes" target="_blank" rel="external">MultiMarkdown 文档</a> 关于脚注的说明。 <strong>限制：</strong> 印象笔记的笔记内容使用 <a href="https://dev.yinxiang.com/doc/articles/enml.php" target="_blank" rel="external">ENML</a> 格式，基于 HTML，但是不支持某些标签和属性，例如id，这就导致<code>脚注</code>和<code>TOC</code>无法正常点击。</p>
<p><script src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.2.7/raphael.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/flowchart/1.6.5/flowchart.min.js"></script><textarea id="flowchart-0-code" style="display: none">st=>start: Start
e=>end
op=>operation: My Operation
cond=>condition: Yes or No?

st->op->cond
cond(yes)->e
cond(no)->op</textarea><textarea id="flowchart-0-options" style="display: none">{"scale":1,"line-width":2,"line-length":50,"text-margin":10,"font-size":12}</textarea><script>  var code = document.getElementById("flowchart-0-code").value;  var options = JSON.parse(decodeURIComponent(document.getElementById("flowchart-0-options").value));  var diagram = flowchart.parse(code);  diagram.drawSVG("flowchart-0", options);</script></p>
]]></content>
    
    <summary type="html">
    
      &lt;p&gt;#MarkDown的用法介绍&lt;/p&gt;
&lt;h2 id=&quot;Markdown简介&quot;&gt;&lt;a href=&quot;#Markdown简介&quot; class=&quot;headerlink&quot; title=&quot;Markdown简介&quot;&gt;&lt;/a&gt;Markdown简介&lt;/h2&gt;&lt;blockquote&gt;
&lt;p&gt;Mar
    
    </summary>
    
    
      <category term="markdown" scheme="http://jamfliu.github.io/tags/markdown/"/>
    
  </entry>
  
</feed>
